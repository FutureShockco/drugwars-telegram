{"version":3,"sources":["webpack:///./src/views/Home.vue?b5cb","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?2b8c","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?3fcf"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","data","canLogin","rnd","dyk","anon","bella","mounted","created","TWA","onEvent","push","Math","floor","random","length","$route","query","tgWebAppStartParam","methods","ok","initData","login","then","makeItok","logout","$auth","logOut","$router","computed","server","$store","state","game","ready","component"],"mappings":"sIAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAC/FE,EAAkB,G,4DCStB,GACEC,KADF,WAEI,MAAO,CACLC,SAAU,OACVC,IAAK,GACLC,IAAKA,EACLC,KAAMA,EACNC,MAAOA,IAGXC,QAVF,WAWA,8BACA,wBAGEC,QAfF,WAgBQb,KAAKc,IAAIC,SACjB,kDACIf,KAAKQ,IAAIQ,KAAKC,KAAKC,MAAMD,KAAKE,SAAWF,KAAKC,MAAMP,EAAMS,UAC1DpB,KAAKQ,IAAIQ,KAAKC,KAAKC,MAAMD,KAAKE,SAAWF,KAAKC,MAAMR,EAAKU,UACzDpB,KAAKQ,IAAIQ,KAAKC,KAAKC,MAAMD,KAAKE,SAAWF,KAAKC,MAAMT,EAAIW,UACpDpB,KAAKqB,OAAOC,OAAStB,KAAKqB,OAAOC,MAAMC,mBAC/C,+EACA,kDAGEC,QAAS,OAAX,OAAW,CAAX,GACA,iCADA,CAEIC,GAFJ,WAEA,WACUzB,KAAKc,KAAOd,KAAKc,IAAIY,UAC/B,+BACM1B,KAAK2B,MAAM3B,KAAKc,IAAIY,UAAUE,MAAK,SAAzC,GACQ,EAAR,6DACU,EAAV,6DAIIC,SAXJ,WAYM7B,KAAKO,UAAW,GAGlBuB,OAfJ,WAgBM9B,KAAK+B,MAAMC,SACXhC,KAAKiC,QAAQjB,KAAK,CAAxB,cAGEkB,SAAU,CACRC,OADJ,WAEM,OAAOnC,KAAKoC,OAAOC,MAAMC,KAAKH,QAEhCI,MAJJ,WAKM,OAAOvC,KAAKc,IAAIyB,WC7DwS,I,wBCQ1TC,EAAY,OAAhB,OAAgB,CACd,EACA1C,EACAO,GACA,EACA,KACA,WACA,MAIF,e,oECnBkhB","file":"js/home.65599f0e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Splash')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Splash/>\n</template>\n\n\n<script>\nimport { mapActions } from 'vuex';\nimport dyk from '@/../dyk.json';\nimport anon from '@/../anon.json';\nimport bella from '@/../bella.json';\nexport default {\n  data() {\n    return {\n      canLogin: process.env.VUE_APP_DEV || false,\n      rnd: [],\n      dyk: dyk,\n      anon: anon,\n      bella: bella,\n    };\n  },\n  mounted() {\n    if(window && window.init_template)\n    window.init_template()\n\n  },\n  created() {\n    if (this.TWA.onEvent)\n      this.TWA.onEvent('web_app_ready', this.makeItok());\n    this.rnd.push(Math.floor(Math.random() * Math.floor(bella.length)))\n    this.rnd.push(Math.floor(Math.random() * Math.floor(anon.length)))\n    this.rnd.push(Math.floor(Math.random() * Math.floor(dyk.length)))\n    if (this.$route.query && this.$route.query.tgWebAppStartParam)\n      localStorage.setItem('drugwars_referrer', this.$route.query.tgWebAppStartParam);\n    else localStorage.setItem('drugwars_referrer', 'null');\n\n  },\n  methods: {\n    ...mapActions(['init', 'login']),\n    ok() {\n      if (this.TWA && this.TWA.initData)\n        console.log(this.TWA.initData)\n      this.login(this.TWA.initData).then((res) => {\n        this.init({ user: this.TWA.initData, showLoading: true }).then((result) => {\n          this.$router.push({ path: this.$route.query.redirect || '/home' });\n        })\n      })\n    },\n    makeItok() {\n      this.canLogin = true;\n\n    },\n    logout() {\n      this.$auth.logOut();\n      this.$router.push({ path: '/' });\n    },\n  },\n  computed: {\n    server() {\n      return this.$store.state.game.server;\n    },\n    ready() {\n      return this.TWA.ready();\n    },\n\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.wrapper {\n  width: 65px;\n  height: 20px;\n  border-radius: 20px;\n  box-shadow: 0 3px 2px rgba(0, 0, 0, 0.2);\n  transform: rotate(-35deg);\n  animation: bgmove 5s infinite linear;\n  left: calc(50% - 33px);\n  top: 50%;\n  position: relative;\n}\n\n\n.wrapper:after {\n  clear: both;\n  display: table;\n  content: '';\n}\n\n.wrapper:before {\n  content: '';\n  display: block;\n  position: absolute;\n  border-radius: 30px;\n  width: 80%;\n  height: 30%;\n  background: linear-gradient(25deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.3));\n  left: 50%;\n  margin-left: -40%;\n  top: 20%;\n}\n\n.left {\n  float: left;\n  height: 100%;\n  width: 50%;\n  background: linear-gradient(#ffc012a8, #c7a200c7);\n  border-radius: 40px 0 0 40px;\n  border: 1px solid rgba(0, 0, 0, 0.4);\n  border-right: 1px solid #ffc400;\n  box-shadow: inset 0 5px 0 #ffc400a2, inset 0 -10px 15px #facc02;\n}\n\n.right {\n  float: right;\n  height: 100%;\n  width: 50%;\n  border-radius: 0 40px 40px 0;\n  border: 1px solid rgba(0, 0, 0, 0.4);\n  border-left: 1px solid rgba(0, 0, 0, 0.6);\n  box-shadow: inset 0 5px 0 #ff1212a1, inset 0 -10px 15px #fa0202ab;\n  background: linear-gradient(#ff1212a6, #fa0202ab);\n}\n\n@keyframes bgmove {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.forcelogout {\n  position: absolute;\n  bottom: 0px;\n  left: calc(50% - 37px);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=358d27fb&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=358d27fb&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"358d27fb\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=358d27fb&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=358d27fb&lang=less&scoped=true&\""],"sourceRoot":""}