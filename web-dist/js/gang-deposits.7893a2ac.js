(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["gang-deposits"],{"58d2":function(i,t,e){"use strict";var s=e("aa09"),n=e.n(s);n.a},8850:function(i,t,e){"use strict";e.r(t);var s=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",[e("GangsTabs"),i._l(i.items,(function(t){return"Embassy"!==t.name?e("div",{key:t.id,staticClass:"anim-fade-in"},[e("div",{staticClass:"item width-full mb-0 pb-0 text-center"},[e("h5",{staticClass:"mt-0 pt-0"},[i._v(i._s(t.name)+" - total: "+i._s(i._f("amount")(i.totalPerBuilding(t.id)))+" - Average: "+i._s(i._f("amount")(i.averagePerBuilding(t.id))))])]),e("div",{staticClass:"item mt-0 pt-0"},[e("div",{staticClass:"row width-full"},[i._m(0,!0),i._l(i.deposits(t.id),(function(s,n){return e("div",{key:s.username,staticClass:"text-center"},[s.building===t.id?e("div",{staticClass:"deposit columns"},[e("h5",{staticClass:"name column col-1 p-0 m-0 text-blue text-left"},[i._v(i._s(n+1))]),e("h5",{staticClass:"name column col-2 p-0 m-0 text-left"},[i._v(i._s(s.nickname))]),e("h5",{staticClass:"name column col-2 p-0 m-0 text-left",class:{"text-green":Number(i.averageDrugsPerBuilding(t.id))<s.drugs,"text-red":Number(i.averageDrugsPerBuilding(t.id))>s.drugs}},[i._v(i._s(i._f("amount")(s.drugs))+" ("+i._s(i.averageDrugs(t.id,s.drugs))+"%)")]),e("h5",{staticClass:"name column col-2 p-0 m-0 text-left",class:{"text-green":Number(i.averageWeaponsPerBuilding(t.id))<s.weapons,"text-red":Number(i.averageWeaponsPerBuilding(t.id))>s.weapons}},[i._v(i._s(i._f("amount")(s.weapons))+" ("+i._s(i.averageWeapons(t.id,s.weapons))+"%)")]),e("h5",{staticClass:"name column col-2 p-0 m-0 text-left",class:{"text-green":Number(i.averageAlcoholPerBuilding(t.id))<s.alcohol,"text-red":Number(i.averageAlcoholPerBuilding(t.id))>s.alcohol}},[i._v(i._s(i._f("amount")(s.alcohol))+" ("+i._s(i.averageAlcohol(t.id,s.alcohol))+"%)")]),e("h5",{staticClass:"name column col-2 p-0 m-0 text-left",class:{"text-green":Number(i.averagePerBuilding(t.id))<s.total,"text-red":Number(i.averagePerBuilding(t.id))>s.total}},[i._v(i._s(i._f("amount")(s.total))+" ("+i._s(i.averageTotal(t.id,s.total))+"%)")]),e("h5",{staticClass:"name column col-1 p-0 m-0 text-left"},[i._v(i._s(i._f("amount")(s.week_average)))])]):i._e()])}))],2)])]):i._e()}))],2)},n=[function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"row columns text-center"},[e("h5",{staticClass:"name column col-1 p-0 m-0 text-left"},[i._v("Rank")]),e("h5",{staticClass:"name column col-2 p-0 m-0 text-left"},[i._v("Players")]),e("h5",{staticClass:"name column col-2 p-0 m-0 text-left"},[i._v("Drugs")]),e("h5",{staticClass:"name column col-2 p-0 m-0 text-left"},[i._v("Weapons")]),e("h5",{staticClass:"name column col-2 p-0 m-0 text-left"},[i._v("Alcohol")]),e("h5",{staticClass:"name column col-2 p-0 m-0 text-left"},[i._v("Total")]),e("h5",{staticClass:"name column col-1 p-0 m-0 text-left"},[i._v("Week AVR.")])])}],a=e("59ad"),l=e.n(a),o=e("cebc"),u=e("768b"),d=(e("ac6a"),e("5df3"),e("7edb")),r=e("f684"),g=e.n(r),c=e("451e"),p=e("2ef0"),b=e("2f62"),h={data:function(){return{items:Object(p["filter"])(Object(p["pickBy"])(d["buildings"],(function(i){return"gang"===i.type})),(function(i){return"exchange"!==i.id})),isLoading:!1,buildings:[],alldeposits:[],id:this.$route.params.id,buildingDeposits:{}}},created:function(){var i=this;this.load_buildings();var t=[c["a"].requestAsync("get_gang_deposits",this.id)];g.a.all(t).then((function(t){var e=[],s=Object(u["a"])(t,1);e=s[0],e.forEach((function(t){var e=t.drugs+t.weapons+t.alcohol;t.total=e,t.average=e/3;var s=new Date(1e3*t.created),n=new Date,a=Math.round(n-s);t.week=Math.round(a/1e3/60/60/24/7),t.week?t.week_average=t.total/t.week:t.week_average=0,i.alldeposits.push(t),i.buildingDeposits[t.building]?(i.buildingDeposits[t.building].drugs+=t.drugs,i.buildingDeposits[t.building].weapons+=t.weapons,i.buildingDeposits[t.building].alcohol+=t.alcohol,i.buildingDeposits[t.building].total+=t.drugs+t.weapons+t.alcohol,i.buildingDeposits[t.building].member+=1):(i.buildingDeposits[t.building]={},i.buildingDeposits[t.building].drugs=t.drugs,i.buildingDeposits[t.building].weapons=t.weapons,i.buildingDeposits[t.building].alcohol=t.alcohol,i.buildingDeposits[t.building].total=t.drugs+t.weapons+t.alcohol,i.buildingDeposits[t.building].member=1)})),i.isInit=!1,i.isLoading=!1}))},methods:Object(o["a"])({},Object(b["b"])(["init","notify","refresh_gang_buildings"]),{load_buildings:function(){var i=this;this.isLoading=!0,this.refresh_gang_buildings().then((function(){i.isLoading=!1})).catch((function(t){console.error("Failed",t),i.isLoading=!1}))},averageDrugs:function(i,t){if(this.buildingDeposits[i]&&this.buildingDeposits[i].drugs)return l()(t/this.buildingDeposits[i].drugs*100).toFixed(2)},averageWeapons:function(i,t){if(this.buildingDeposits[i]&&this.buildingDeposits[i].weapons)return l()(t/this.buildingDeposits[i].weapons*100).toFixed(2)},averageAlcohol:function(i,t){if(this.buildingDeposits[i]&&this.buildingDeposits[i].alcohol)return l()(t/this.buildingDeposits[i].alcohol*100).toFixed(2)},averageTotal:function(i,t){if(this.buildingDeposits[i]&&this.buildingDeposits[i].total)return l()(t/this.buildingDeposits[i].total*100).toFixed(2)},averageDrugsPerBuilding:function(i){if(this.buildingDeposits[i]&&this.buildingDeposits[i].total)return this.buildingDeposits[i].drugs/this.buildingDeposits[i].member},averageWeaponsPerBuilding:function(i){if(this.buildingDeposits[i]&&this.buildingDeposits[i].total)return this.buildingDeposits[i].weapons/this.buildingDeposits[i].member},averageAlcoholPerBuilding:function(i){if(this.buildingDeposits[i]&&this.buildingDeposits[i].total)return this.buildingDeposits[i].alcohol/this.buildingDeposits[i].member},averagePerBuilding:function(i){if(this.buildingDeposits[i]&&this.buildingDeposits[i].total)return this.buildingDeposits[i].total/this.buildingDeposits[i].member},totalPerBuilding:function(i){if(this.buildingDeposits[i]&&this.buildingDeposits[i].total)return this.buildingDeposits[i].total},deposits:function(i){return Object(p["filter"])(Object(p["orderBy"])(this.alldeposits,"total","desc"),(function(t){return t.building===i}))}}),computed:{}},m=h,f=(e("58d2"),e("2877")),v=Object(f["a"])(m,s,n,!1,null,"600458ec",null);t["default"]=v.exports},aa09:function(i,t,e){}}]);
//# sourceMappingURL=gang-deposits.7893a2ac.js.map