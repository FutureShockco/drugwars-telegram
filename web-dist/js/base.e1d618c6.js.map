{"version":3,"sources":["webpack:///./src/views/Overview/Base.vue?1eb1","webpack:///./src/views/Overview/Base.vue?4ea6","webpack:///src/views/Overview/Base.vue","webpack:///./src/views/Overview/Base.vue?133d","webpack:///./src/views/Overview/Base.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","ownBase","custom","on","$event","preventDefault","handleRename","directives","name","rawName","value","expression","attrs","domProps","target","composing","base_name","isLoading","waitingConfirmation","requireUpdate","inProgress","territory","base","handleSubmit","target_territory","target_base","upgradeLabel","notEnoughDWD","_f","dwdPrice","_e","price","staticRenderFns","props","data","errorMessage","watch","val","computed","$store","state","game","mainbase","updateTime","prizeProps","steemprice","user","dwd","timeToWait","building","pending_update","level","hqLevel","id","notEnough","label","HQ","buildings","find","balances","gang_buildings","methods","type","from_territory","Number","self","from_base","send","payload","length","component"],"mappings":"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","file":"js/base.e1d618c6.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Base.vue?vue&type=style&index=0&id=2f76e93e&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Base.vue?vue&type=style&index=0&id=2f76e93e&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('OverviewTabs'),_c('div',{staticClass:\"p-4 text-center anim-fade-in\"},[_c('h2',[_vm._v(\"RENAME YOUR BASE\")]),_c('h4',[_vm._v(\"Current name \"),_c('div',{staticClass:\"text-yellow\"},[_vm._v(_vm._s(_vm.ownBase.custom))])]),(_vm.ownBase.custom ==='primary')?_c('h5',{staticClass:\"text-red\"},[_vm._v(\"You can not rename your primary base\")]):_c('form',{staticClass:\"form container-xxs\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleRename($event)}}},[_c('h6',[_vm._v(\"New name \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.base_name),expression:\"base_name\"}],staticClass:\"input input-primary mb-2\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.base_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.base_name=$event.target.value}}}),_c('UiButton',{staticClass:\"button btn-block button-green mb-2\",attrs:{\"disabled\":_vm.isLoading || _vm.waitingConfirmation || _vm.requireUpdate || _vm.inProgress || _vm.ownBase.custom ==='primary' ||!_vm.base_name}},[_vm._v(\"\\n        Change name\\n        \")])],1),_c('h2',[_vm._v(\"MOVE YOUR BASE TO ANOTHER SPOT\")]),_c('h5',[_vm._v(\"Be carefull, everybody can recover your old location on the map. You will keep all your buildings and your units. You can not move if you have any fights which are still ongoing.\")]),_c('h4',[_vm._v(\"Current coordinates \"),_c('div',{staticClass:\"text-yellow\"},[_vm._v(_vm._s(_vm.ownBase.territory)+\" : \"+_vm._s(_vm.ownBase.base))])]),_c('form',{staticClass:\"form container-xxs\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('h6',[_vm._v(\"Territory \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.target_territory),expression:\"target_territory\"}],staticClass:\"input input-primary mb-2\",attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.target_territory)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.target_territory=$event.target.value}}}),_c('h6',[_vm._v(\"Location \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.target_base),expression:\"target_base\"}],staticClass:\"input input-primary mb-2\",attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.target_base)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.target_base=$event.target.value}}}),_c('h5',[_vm._v(\"   \"+_vm._s(_vm.upgradeLabel))]),_c('UiButton',{staticClass:\"button btn-block button-yellow mb-2\",attrs:{\"disabled\":_vm.isLoading || _vm.waitingConfirmation || _vm.requireUpdate || _vm.notEnoughDWD || _vm.inProgress || !_vm.ownBase ||!_vm.target_base || !_vm.target_territory}},[_c('img',{staticClass:\"dwdicon\",attrs:{\"src\":\"//img.drugwars.io/icons/dwd.png\"}}),(_vm.dwdPrice)?_c('span',[_vm._v(\" $\"+_vm._s(_vm._f(\"amount\")(_vm.dwdPrice))+\" = \")]):_vm._e(),_vm._v(\"\\n          \"+_vm._s(_vm.price)+\" DWD\\n        \")])],1),(_vm.errorMessage)?_c('h4',{staticClass:\"text-red\"},[_vm._v(\"Please select a valid territory\")]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <OverviewTabs/>\n        <div class=\"p-4 text-center anim-fade-in\">\n          <h2>RENAME YOUR BASE</h2>\n           <h4>Current name <div class=\"text-yellow\">{{ownBase.custom}}</div></h4>\n            <h5  v-if=\"ownBase.custom ==='primary'\" class=\"text-red\">You can not rename your primary base</h5>\n            <form v-else class=\"form container-xxs\" @submit.prevent=\"handleRename\">\n              <h6>New name </h6>\n                <input class=\"input input-primary mb-2\" v-model=\"base_name\" type=\"text\"/>\n            <UiButton\n              :disabled=\"isLoading || waitingConfirmation || requireUpdate || inProgress || ownBase.custom ==='primary' ||!base_name\"\n              class=\"button btn-block button-green mb-2\">\n            Change name\n            </UiButton>\n            </form>\n            <h2>MOVE YOUR BASE TO ANOTHER SPOT</h2>\n            <h5>Be carefull, everybody can recover your old location on the map. You will keep all your buildings and your units. You can not move if you have any fights which are still ongoing.</h5>\n           <h4>Current coordinates <div class=\"text-yellow\">{{ownBase.territory}} : {{ownBase.base}}</div></h4>\n            <form class=\"form container-xxs\" @submit.prevent=\"handleSubmit\">\n              <h6>Territory </h6>\n                <input class=\"input input-primary mb-2\" v-model=\"target_territory\" type=\"number\"/>\n                    <h6>Location </h6>\n                <input class=\"input input-primary mb-2\" v-model=\"target_base\" type=\"number\"/>\n              <h5>   {{ upgradeLabel }}</h5>\n            <UiButton\n              :disabled=\"isLoading || waitingConfirmation || requireUpdate || notEnoughDWD || inProgress || !ownBase ||!target_base || !target_territory\"\n              class=\"button btn-block button-yellow mb-2\">\n            <img class=\"dwdicon\" src=\"//img.drugwars.io/icons/dwd.png\"/>\n            <span v-if=\"dwdPrice\"> ${{ dwdPrice | amount }} = </span>\n              {{ price  }} DWD\n            </UiButton>\n            </form>\n            <h4 v-if=\"errorMessage\" class=\"text-red\">Please select a valid territory</h4>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport { utils } from 'drugwars';\nimport { getBalances } from '@/helpers/utils';\n\nexport default {\n  props: ['inProgress'],\n  data() {\n    return {\n      isLoading: false,\n      waitingConfirmation: false,\n      target_territory: null,\n      target_base: null,\n      base_name: null,\n      errorMessage: null,\n    };\n  },\n  watch: {\n    inProgress(val) {\n      if (val) {\n        this.waitingConfirmation = false;\n      }\n    },\n  },\n  computed: {\n    ownBase() {\n      return this.$store.state.game.mainbase;\n    },\n    updateTime() {\n      return utils.calculateTimeToBuild(this.id, this.coeff, this.level, this.hqLevel);\n    },\n    price() {\n      return 100;\n    },\n\n    dwdPrice() {\n      const price = this.$store.state.game.prizeProps.seProps.lastPrice;\n      return price * this.price * this.$store.state.game.prizeProps.steemprice;\n    },\n    notEnoughDWD() {\n      return this.price > this.$store.state.game.user.user.dwd;\n    },\n\n    timeToWait() {\n      const building = this.$store.state.game.user.buildings.find(\n        b =>\n          b.building === this.id &&\n          b.territory === this.ownBase.territory &&\n          b.base === this.ownBase.base,\n      );\n      if (building) {\n        if (building.pending_update) {\n          const nextUpdate = new Date(building.pending_update).getTime();\n          const now = this.$store.state.ui.timestamp;\n          const timeToWait = nextUpdate - now;\n          return timeToWait > 0 ? timeToWait : 0;\n        }\n\n        const nextUpdate = new Date(building.next_update).getTime();\n        const now = this.$store.state.ui.timestamp;\n        const timeToWait = nextUpdate - now;\n        return timeToWait > 0 ? timeToWait : 0;\n      }\n      return 0;\n    },\n    requireUpdate() {\n      return this.level > this.hqLevel && this.id !== 'headquarters';\n    },\n    upgradeLabel() {\n      let label = '';\n      if (this.target_territory && this.target_base)\n        label = `You are moving your base from ${this.ownBase.territory}:${this.ownBase.base} to ${\n          this.target_territory\n        }:${this.target_base}`;\n      if (this.notEnough) label = 'Miss resources';\n      if (this.inProgress) label = 'Upgrading';\n      return label;\n    },\n    base() {\n      return this.$store.state.game.mainbase;\n    },\n    HQ() {\n      if (\n        this.ownBase &&\n        this.$store.state.game.user.buildings.find(\n          b =>\n            b.building === 'headquarters' &&\n            b.territory === this.ownBase.territory &&\n            b.base === this.ownBase.base,\n        )\n      ) {\n        return this.$store.state.game.user.buildings.find(\n          b =>\n            b.building === 'headquarters' &&\n            b.territory === this.ownBase.territory &&\n            b.base === this.ownBase.base,\n        );\n      }\n      return this.$store.state.game.user.buildings.find(b => b.building === 'headquarters');\n    },\n    balances() {\n      let ocLvl = 0;\n      if (\n        this.$store.state.game.user.buildings.find(\n          b =>\n            b.building === 'operation_center' &&\n            b.territory === this.ownBase.territory &&\n            b.base === this.ownBase.base,\n        )\n      )\n        ocLvl = this.$store.state.game.user.buildings.find(\n          b =>\n            b.building === 'operation_center' &&\n            b.territory === this.ownBase.territory &&\n            b.base === this.ownBase.base,\n        ).lvl;\n      let labLvl = 0;\n      if (this.$store.state.game.gang_buildings.find(b => b.building === 'scientific_lab'))\n        labLvl = this.$store.state.game.gang_buildings.find(b => b.building === 'scientific_lab')\n          .lvl;\n      let weaponLvl = 0;\n      if (this.$store.state.game.gang_buildings.find(b => b.building === 'weapon_center'))\n        weaponLvl = this.$store.state.game.gang_buildings.find(b => b.building === 'weapon_center')\n          .lvl;\n      let distilleryLvl = 0;\n      if (this.$store.state.game.gang_buildings.find(b => b.building === 'distillery_school'))\n        distilleryLvl = this.$store.state.game.gang_buildings.find(\n          b => b.building === 'distillery_school',\n        ).lvl;\n      return getBalances(\n        this.HQ,\n        ocLvl,\n        labLvl,\n        weaponLvl,\n        distilleryLvl,\n        this.$store.state.ui.timestamp,\n      );\n    },\n  },\n  methods: {\n    ...mapActions(['send']),\n    handleSubmit() {\n      const self = this;\n      this.errorMessage = null;\n      if (this.target_territory > 460) {\n        this.errorMessage = `Please choose a name for your base`;\n      }\n      if (this.target_base > 225) {\n        this.errorMessage = `Please choose a shorter name for your base`;\n      }\n      if (!this.errorMessage) {\n        this.isLoading = true;\n        const payload = {\n          type: 'move-base',\n          from_territory: Number(self.ownBase.territory),\n          from_base: Number(self.ownBase.base),\n          territory: Number(self.target_territory),\n          base: Number(self.target_base),\n        };\n        this.send(payload)\n          .then(() => {\n            this.isLoading = false;\n            this.init();\n          })\n          .catch(e => {\n            this.notify({\n              type: 'error',\n              message:\n                'Failed to move base please check that the location is empty and you dont have any fight going from or coming to your base',\n            });\n            console.error('Failed to move base', e);\n            this.isLoading = false;\n          });\n      }\n    },\n    handleRename() {\n      const self = this;\n      this.errorMessage = null;\n      if (this.base_name.length > 44) {\n        this.errorMessage = `Please choose a name a shorter name for your base`;\n      }\n      if (!this.errorMessage) {\n        this.isLoading = true;\n        const payload = {\n          type: 'rename-base',\n          from_territory: Number(self.ownBase.territory),\n          from_base: Number(self.ownBase.base),\n          name: self.base_name,\n        };\n        this.send(payload)\n          .then(() => {\n            this.isLoading = false;\n            this.init();\n          })\n          .catch(e => {\n            this.notify({\n              type: 'error',\n              message: 'Failed to rename base please',\n            });\n            console.error('Failed to move base', e);\n            this.isLoading = false;\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.checkout {\n  text-align: center;\n  width: 180px;\n}\n\n.dwdicon {\n  width: 22px;\n  left: 0px;\n  position: relative;\n  float: left;\n  top: 5px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Base.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Base.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Base.vue?vue&type=template&id=2f76e93e&scoped=true&\"\nimport script from \"./Base.vue?vue&type=script&lang=js&\"\nexport * from \"./Base.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Base.vue?vue&type=style&index=0&id=2f76e93e&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f76e93e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}