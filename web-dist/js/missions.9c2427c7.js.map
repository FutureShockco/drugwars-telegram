{"version":3,"sources":["webpack:///./src/views/Actions/Actions.vue?148b","webpack:///src/views/Actions/Actions.vue","webpack:///./src/views/Actions/Actions.vue?3452","webpack:///./src/views/Actions/Actions.vue","webpack:///./src/views/Actions/Actions.vue?2dd7"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","player","key","_v","_s","name","set","territory","location","on","$event","deleteFarm","loadFarm","openFarmList","_e","ownUnits","length","tutorialStep","ownUnit","amount","ownBase","base","attrs","addUnit","selectedUnits","offensivePower","_f","timer","cost","removeUnits","action_type","progressPercent","drugs_amount","selectedTotal","carry","directives","rawName","value","expression","domProps","target","composing","weapons_amount","alcohol_amount","class","target_type","targetNickname","getUserBase","active","isOpen","building","setRallyPointCoordinates","custom","message","baseName","tutoDetail","isLoading","handleSubmit","errorMessage","farm_name","listPopup","saveFarm","rnd","staticRenderFns","data","$route","query","type","nickname","username","$store","state","auth","farmOn","favoriteCombinations","JSON","parse","localStorage","getItem","farmlist","combination_name","units","bases","popupOn","privateAttack","enemyProd","Math","floor","random","components","draggable","created","computed","game","user","tutorial","mainbase","sent_fights","allbase","buildings","forEach","alreadylisted","favs","find","selected","drugs","weapons","alcohol","defensivePower","supply","power","round","coordination","hasNotEnough","self","training","reduce","lvl","distance","enemyRankName","rank","names","enemyMaxSupply","max_supply","maxSupply","methods","resetForm","chooseBase","chooseActionType","client","result","console","log","prod_rate","farm","push","setItem","total","up","progress","setTutoDetail","selectedUnitsObj","unit","payload","makePrivate","openInNewTab","p","n","mytraining","toOpen","win","focus","serialize","obj","hasOwnProperty","str","join","onEnd","saveCombination","combi","myarmy","loadCombination","combination","combinationtoload","deleteCombination","i","splice","component"],"mappings":"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","file":"js/missions.9c2427c7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.ownBase)?_c('div',[_c('ActionsTabs'),(_vm.farmOn)?_c('UiCenter',{staticClass:\"vue-ui-modal pt-2 pb-7\"},[_c('div',{staticClass:\"wrapper\"},[(_vm.farmlist)?_c('div',{staticClass:\"columns\"},_vm._l((_vm.farmlist),function(player){return _c('div',{key:player.key,staticClass:\"column farm col-6\"},[_c('div',{staticClass:\"border-bottom border-top border-left text-right\"},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\"\\n                \"+_vm._s(player.name)+\"\\n                \"),_c('span',{staticClass:\"text-yellow mx-1\"},[_vm._v(_vm._s(player.set.territory)+\" : \"+_vm._s(player.set.location))]),_c('UiButton',{staticClass:\"button button-red\",on:{\"click\":function($event){_vm.deleteFarm(player.name)}}},[_c('div',{staticClass:\"iconfont icon-trashcan text-white\"})]),_c('UiButton',{staticClass:\"button button-green ml-3\",on:{\"click\":function($event){_vm.loadFarm(player.set)}}},[_c('div',{staticClass:\"iconfont icon-check text-white\"})])],1)])])})):_c('h3',[_vm._v(\"You should first add a place to your list by visiting it.\")]),_c('UiButton',{staticClass:\"button button-red mt-5\",on:{\"click\":function($event){_vm.openFarmList()}}},[_vm._v(\"Cancel\")])],1)]):_vm._e(),_c('div',{staticClass:\"card mx-0 border-bottom-highlight mb-1 anim-fade-in\"},[_c('div',{staticClass:\"content\"},[(_vm.ownUnits.length > 0)?_c('div',[_c('div',{staticClass:\"mt-1\"}),(_vm.tutorialStep > 6)?_c('div',[_c('h3',[_vm._v(\"Select your army composition\")]),(_vm.ownUnits.length > 0)?_c('div',{staticClass:\"row d-flex\"},_vm._l((_vm.ownUnits),function(ownUnit){return (ownUnit.amount > 0)?_c('UnitSelect',{key:ownUnit.key + _vm.ownBase.territory + _vm.ownBase.base,staticClass:\"col-3\",attrs:{\"item\":ownUnit},on:{\"select\":_vm.addUnit}}):_vm._e()})):_c('div',[_vm._v(\"You must buy troops\")])]):_vm._e()]):_vm._e(),(_vm.ownUnits.length > 0)?_c('div',{staticClass:\"column col-12 col-sm-6\"},[_c('div',{staticClass:\"mb-2\"},[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Your selected army\")]),_c('ArmyToSend',{attrs:{\"units\":_vm.selectedUnits}})],1),_c('div',{staticClass:\"mb-0 form width-full\"},[(_vm.selectedUnits.length === 0)?_c('div',[_c('p',[_vm._v(\"You need to select at least 1 unit.\")])]):(_vm.tutorialStep > 7)?_c('div',[_c('h5',[_vm._v(\"Power : \"+_vm._s(_vm.offensivePower)+\"% - Timer : \"+_vm._s(_vm._f(\"ms\")(_vm.timer))+\" - Cost : \"+_vm._s(_vm._f(\"amount\")(_vm.cost)))]),_c('UiButton',{staticClass:\"btn btn-xxs gradient-red mb-2\",on:{\"click\":function($event){_vm.removeUnits()}}},[_vm._v(\"Remove all\")]),(_vm.action_type === 'transport')?_c('div',[_c('div',{staticClass:\"columns mt-4\"},[_c('div',{staticClass:\"column col-4\"},[_c('ProgressBar',{attrs:{\"icon\":'drug',\"color\":'#00b31e',\"width\":70,\"font-size\":\"20\",\"pv\":_vm.progressPercent(_vm.drugs_amount, _vm.selectedTotal),\"total\":_vm.drugs_amount,\"cost\":_vm.carry - _vm.selectedTotal,\"bold\":12,\"text-bg-color\":'#1f1f1f',\"during\":3,\"border-color\":'#ffc508',\"bg-color\":'#fbb034',\"text-color\":'#ffffff'}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.drugs_amount),expression:\"drugs_amount\"}],staticClass:\"mt-5 input width-full\",attrs:{\"type\":\"number\",\"placeholder\":\"amount\"},domProps:{\"value\":(_vm.drugs_amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.drugs_amount=$event.target.value}}})],1),_c('div',{staticClass:\"column col-4\"},[_c('ProgressBar',{attrs:{\"icon\":'weapon',\"color\":'#00b31e',\"width\":70,\"font-size\":\"20\",\"pv\":_vm.progressPercent(_vm.weapons_amount, _vm.selectedTotal),\"total\":_vm.weapons_amount,\"cost\":_vm.carry - _vm.selectedTotal,\"bold\":12,\"text-bg-color\":'#1f1f1f',\"during\":3,\"border-color\":'#ffc508',\"bg-color\":'#fbb034',\"text-color\":'#ffffff'}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.weapons_amount),expression:\"weapons_amount\"}],staticClass:\"mt-5 input width-full\",attrs:{\"type\":\"number\",\"placeholder\":\"amount\"},domProps:{\"value\":(_vm.weapons_amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.weapons_amount=$event.target.value}}})],1),_c('div',{staticClass:\"column col-4\"},[_c('ProgressBar',{attrs:{\"icon\":'alcohol',\"color\":'#00b31e',\"width\":70,\"font-size\":\"20\",\"pv\":_vm.progressPercent(_vm.alcohol_amount, _vm.selectedTotal),\"total\":_vm.alcohol_amount,\"cost\":_vm.carry - _vm.selectedTotal,\"bold\":12,\"text-bg-color\":'#1f1f1f',\"during\":3,\"border-color\":'#ffc508',\"bg-color\":'#fbb034',\"text-color\":'#ffffff'}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.alcohol_amount),expression:\"alcohol_amount\"}],staticClass:\"mt-5 input width-full\",attrs:{\"type\":\"number\",\"placeholder\":\"amount\"},domProps:{\"value\":(_vm.alcohol_amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.alcohol_amount=$event.target.value}}})],1)]),_c('h5',{class:{ 'text-red': _vm.progressPercent(_vm.selectedTotal, _vm.carry) > 100 }},[_vm._v(\"Total\\n                  \"+_vm._s(_vm.progressPercent(_vm.selectedTotal, _vm.carry))+\"%\")])]):_vm._e()],1):_vm._e()]),(_vm.action_type !== 'occupy' && _vm.target_type !== 'npc')?_c('div',[_c('h3',[_vm._v(\"Type a nickname\")]),_c('div',{staticClass:\"d-flex\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.targetNickname),expression:\"targetNickname\"}],staticClass:\"input form-control mb-1\",attrs:{\"readonly\":_vm.targetNickname === 'TommasoBuscetta',\"type\":\"string\",\"placeholder\":\"Nickname\"},domProps:{\"value\":(_vm.targetNickname)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.targetNickname=$event.target.value}}}),_c('UiButton',{staticClass:\"button button-green\",on:{\"click\":function($event){_vm.getUserBase()}}},[_c('div',{staticClass:\"fad fa-search\"})])],1)]):_vm._e(),(_vm.action_type === 'transport' || _vm.action_type === 'station')?_c('h5',{staticClass:\"text-yellow ddrop mt-0 mb-0\",class:{ active: _vm.active },on:{\"click\":function($event){_vm.isOpen = !_vm.isOpen, _vm.active = !_vm.active}}},[_vm._v(\"\\n            CHOOSE FROM YOUR BASES\\n            \"),_c('svg',{attrs:{\"viewBox\":\"0 0 451.847 451.847\",\"width\":\"12\"}},[_c('path',{attrs:{\"d\":\"M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751\\n\\t\\tc12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0\\n\\t\\tc12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z\",\"fill\":\"#fff\"}})])]):_vm._e(),(_vm.action_type === 'transport' || _vm.action_type === 'station')?_c('div',{staticClass:\"dropdown\",class:{ isOpen: _vm.isOpen }},_vm._l((_vm.allbase),function(base){return (base.building === 'headquarters' && (_vm.ownBase.territory + '' + _vm.ownBase.base !== base.territory + '' + base.base))?_c('UiButton',{key:(base.territory + '' + base.base),staticClass:\"btn btn-yellow btn-sm rp mr-2\",on:{\"click\":function($event){_vm.setRallyPointCoordinates(base.territory, base.base)}}},[_vm._v(\"\\n              \"+_vm._s(base.custom))]):_vm._e()})):_vm._e(),_c('h3',{staticClass:\"mt-1\"},[_vm._v(\"Or your target coordinates\")]),_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"col\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.target),expression:\"target\"}],staticClass:\"input form-control mb-4\",attrs:{\"readonly\":_vm.targetNickname === 'TommasoBuscetta',\"type\":\"number\",\"placeholder\":\"Territory\"},domProps:{\"value\":(_vm.target)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.target=$event.target.value}}})]),_c('div',{staticClass:\"col\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.base),expression:\"base\"}],staticClass:\"input form-control mb-4\",attrs:{\"readonly\":_vm.targetNickname === 'TommasoBuscetta',\"type\":\"number\",\"placeholder\":\"Base\"},domProps:{\"value\":(_vm.base)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.base=$event.target.value}}})])]),(_vm.target_type !== 'npc' && (_vm.action_type === 'attack' || _vm.action_type === 'transport'))?_c('div',{class:_vm.tutorialStep === 7 ? 'd-none' : ''},[_c('h3',[_vm._v(\"Add a fight message*\")]),_c('div',[_vm._v(\"* optional\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"}],staticClass:\"input form-control btn-block mb-4\",attrs:{\"placeholder\":\"I'm coming for you\",\"maxlength\":\"280\"},domProps:{\"value\":(_vm.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.message=$event.target.value}}})]):_vm._e(),(_vm.action_type === 'occupy')?_c('div',[_c('h3',[_vm._v(\"Choose Base Name (max 10 bases)\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.baseName),expression:\"baseName\"}],staticClass:\"input form-control btn-block mb-2\",attrs:{\"placeholder\":\"Eg : Saint Street\",\"maxlength\":\"280\"},domProps:{\"value\":(_vm.baseName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.baseName=$event.target.value}}})]):_vm._e(),_c('div',{class:_vm.tutoDetail === 1 && _vm.tutorialStep === 7 ? 'tutobox' : ''},[(_vm.action_type === 'attack')?_c('UiButton',{staticClass:\"btn w-100 gradient-red font-700 text-uppercase\",attrs:{\"disabled\":_vm.selectedUnits.length === 0 || !_vm.target || _vm.isLoading},on:{\"click\":_vm.handleSubmit}},[(_vm.isLoading)?_c('SmallLoading'):_c('span',[_vm._v(_vm._s(_vm.action_type))])],1):_vm._e()],1),(_vm.action_type === 'transport')?_c('UiButton',{staticClass:\"button button-large button-blue mb-2 d-block\",attrs:{\"disabled\":_vm.selectedUnits.length === 0 || !_vm.target || _vm.isLoading},on:{\"click\":_vm.handleSubmit}},[(_vm.isLoading)?_c('SmallLoading'):_c('span',[_vm._v(_vm._s(_vm.action_type))])],1):_vm._e(),(_vm.action_type === 'occupy')?_c('UiButton',{staticClass:\"button button-large button-green mb-2 d-block\",attrs:{\"disabled\":_vm.selectedUnits.length === 0 || !_vm.target || _vm.isLoading},on:{\"click\":_vm.handleSubmit}},[(_vm.isLoading)?_c('SmallLoading'):_c('span',[_vm._v(_vm._s(_vm.action_type))])],1):_vm._e(),(_vm.action_type === 'station')?_c('UiButton',{staticClass:\"button button-large button-orange mb-2 d-block\",attrs:{\"disabled\":_vm.selectedUnits.length === 0 || !_vm.target || _vm.isLoading},on:{\"click\":_vm.handleSubmit}},[(_vm.isLoading)?_c('SmallLoading'):_c('span',[_vm._v(_vm._s(_vm.action_type))])],1):_vm._e(),(_vm.errorMessage)?_c('div',{staticClass:\"text-red text-left\"},[_vm._v(_vm._s(_vm.errorMessage))]):_vm._e()],1):_c('h4',{staticClass:\"text-center\"},[_vm._v(\"\\n          You don't have any unit.\\n          \"),_c('h2',[_c('router-link',{staticClass:\"text-yellow\",attrs:{\"to\":\"/units\"}},[_vm._v(\"Click here to start to recruit\")])],1)])])]),(_vm.popupOn)?_c('UiCenter',{staticClass:\"vue-ui-modal pt-2 pb-7\"},[_c('div',{staticClass:\"wrapper\"},[_c('div',[_vm._v(\"Choose a custom name to remember this opponent or his place.\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.farm_name),expression:\"farm_name\"}],staticClass:\"mt-2 input\",attrs:{\"type\":\"string\",\"placeholder\":\"Snollygoster\"},domProps:{\"value\":(_vm.farm_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.farm_name=$event.target.value}}}),_c('UiButton',{staticClass:\"button button-red\",on:{\"click\":function($event){_vm.listPopup()}}},[_vm._v(\"Cancel\")]),_c('UiButton',{staticClass:\"button button-green ml-1\",on:{\"click\":function($event){_vm.saveFarm()}}},[_vm._v(\"Save\")])],1)]):_vm._e()],1):_c('div',{staticClass:\"card card-style anim-fade-in\"},[_c('div',{staticClass:\"content\"},[_c('h4',{staticClass:\"text-center\"},[_vm._v(\"\\n        You must choose a location on the map first.\\n        \"),_c('h2',[_c('router-link',{staticClass:\"text-yellow\",attrs:{\"to\":'/map/territory?location=' + _vm.rnd}},[_vm._v(\"Click here to choose a\\n            location.\")])],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"ownBase\">\n    <ActionsTabs />\n    <UiCenter class=\"vue-ui-modal pt-2 pb-7\" v-if=\"farmOn\">\n      <div class=\"wrapper\">\n        <div class=\"columns\" v-if=\"farmlist\">\n          <div class=\"column farm col-6\" v-for=\"player in farmlist\" :key=\"player.key\">\n            <div class=\"border-bottom border-top border-left text-right\">\n              <h5 class=\"mb-0\">\n                {{ player.name }}\n                <span class=\"text-yellow mx-1\">{{ player.set.territory }} : {{ player.set.location }}</span>\n                <UiButton class=\"button button-red\" @click=\"deleteFarm(player.name)\">\n                  <div class=\"iconfont icon-trashcan text-white\"></div>\n                </UiButton>\n                <UiButton class=\"button button-green ml-3\" @click=\"loadFarm(player.set)\">\n                  <div class=\"iconfont icon-check text-white\"></div>\n                </UiButton>\n              </h5>\n            </div>\n          </div>\n        </div>\n        <h3 v-else>You should first add a place to your list by visiting it.</h3>\n        <UiButton class=\"button button-red mt-5\" @click=\"openFarmList()\">Cancel</UiButton>\n      </div>\n    </UiCenter>\n    <div class=\"card mx-0 border-bottom-highlight mb-1 anim-fade-in\">\n      <div class=\"content\">\n        <div v-if=\"ownUnits.length > 0\">\n          <!-- <h3 class=\"mb-0 mt-0\">Select your action type</h3>\n        <div v-if=\"action_type === 'attack' || target_type === 'npc'\">Attack another player</div> -->\n          <!-- <div v-if=\"action_type === 'transport'\">Transport resources to another base</div>\n        <div v-if=\"action_type === 'station'\">Station units in your other bases</div>\n        <div v-if=\"action_type === 'occupy'\">Take a new base (need 1 occupation troop)</div> -->\n          <div class=\"mt-1\">\n            <!-- <UiButton\n            class=\"button\"\n            @click=\"chooseActionType('attack')\"\n            :class=\"{ 'button-red' : action_type ==='attack' || target_type === 'npc' }\"\n          >ATTACK</UiButton> -->\n            <!-- <UiButton\n            class=\"button ml-1\"\n            @click=\"chooseActionType('transport')\"\n            :class=\"{ 'button-blue' : action_type ==='transport' }\"\n          >TRANSPORT</UiButton>\n          <UiButton\n            class=\"button ml-1\"\n            @click=\"chooseActionType('occupy')\"\n            :class=\"{ 'button-green' : action_type ==='occupy' }\"\n          >OCCUPY</UiButton>\n          <UiButton\n            class=\"button ml-1\"\n            @click=\"chooseActionType('station')\"\n            :class=\"{ 'button-orange' : action_type ==='station' }\"\n          >STATION</UiButton> -->\n          </div>\n          <div v-if=\"tutorialStep > 6\">\n            <h3>Select your army composition</h3>\n            <div class=\"row d-flex\" v-if=\"ownUnits.length > 0\">\n              <UnitSelect v-for=\"ownUnit in ownUnits\" :key=\"ownUnit.key + ownBase.territory + ownBase.base\"\n                class=\"col-3\" v-if=\"ownUnit.amount > 0\" :item=\"ownUnit\" @select=\"addUnit\" />\n            </div>\n            <div v-else>You must buy troops</div>\n          </div>\n          <!--  <div v-if=\"action_type !== 'occupy'\" class=\"row d-flex mt-3\">\n            <input class=\"input form-control col\" :disabled=\"selectedUnits.length === 0\" placeholder=\"New Squad name\"\n              v-model=\"combination_name\" maxlength=\"24\" />\n            <UiButton class=\"button button-green col\" :disabled=\"selectedUnits.length === 0 || !combination_name\"\n              @click=\"saveCombination()\">Save squad</UiButton>\n            <draggable @start=\"drag = true\" v-model=\"favoriteCombinations\" @end=\"onEnd\">\n              <div class=\"mt-2\" v-for=\"combination in favoriteCombinations\" :key=\"combination.key\">\n                <UiButton class=\"button button-red\" @click=\"deleteCombination(combination.name)\">delete squad</UiButton>\n                <UiButton class=\"button button-blue ml-2\" @click=\"loadCombination(combination.set)\">load\n                  {{ combination.name }}</UiButton>\n              </div>\n            </draggable>\n            <h3>Defensive Power : {{defensivePower}}%</h3>\n          <a @click=\"openInNewTab()\" target=\"_blank\">Access to the Fight simulator</a>\n          </div>-->\n        </div>\n        <div v-if=\"ownUnits.length > 0\" class=\"column col-12 col-sm-6\">\n          <div class=\"mb-2\">\n            <h3 class=\"mb-2\">Your selected army</h3>\n            <ArmyToSend :units=\"selectedUnits\" />\n          </div>\n          <div class=\"mb-0 form width-full\">\n            <div v-if=\"selectedUnits.length === 0\">\n              <p>You need to select at least 1 unit.</p>\n            </div>\n            <div v-else-if=\"tutorialStep > 7\">\n              <h5>Power : {{ offensivePower }}% - Timer : {{ timer | ms }} - Cost : {{ cost | amount }}</h5>\n              <UiButton class=\"btn btn-xxs gradient-red mb-2\" @click=\"removeUnits()\">Remove all</UiButton>\n              <div v-if=\"action_type === 'transport'\">\n                <div class=\"columns mt-4\">\n                  <div class=\"column col-4\">\n                    <ProgressBar :icon=\"'drug'\" :color=\"'#00b31e'\" :width=\"70\" font-size=\"20\"\n                      :pv=\"progressPercent(drugs_amount, selectedTotal)\" :total=\"drugs_amount\"\n                      :cost=\"carry - selectedTotal\" :bold=\"12\" :text-bg-color=\"'#1f1f1f'\" :during=\"3\"\n                      :border-color=\"'#ffc508'\" :bg-color=\"'#fbb034'\" :text-color=\"'#ffffff'\" />\n                    <input type=\"number\" v-model=\"drugs_amount\" placeholder=\"amount\" class=\"mt-5 input width-full\" />\n                  </div>\n                  <div class=\"column col-4\">\n                    <ProgressBar :icon=\"'weapon'\" :color=\"'#00b31e'\" :width=\"70\" font-size=\"20\"\n                      :pv=\"progressPercent(weapons_amount, selectedTotal)\" :total=\"weapons_amount\"\n                      :cost=\"carry - selectedTotal\" :bold=\"12\" :text-bg-color=\"'#1f1f1f'\" :during=\"3\"\n                      :border-color=\"'#ffc508'\" :bg-color=\"'#fbb034'\" :text-color=\"'#ffffff'\" />\n                    <input type=\"number\" v-model=\"weapons_amount\" placeholder=\"amount\" class=\"mt-5 input width-full\" />\n                  </div>\n                  <div class=\"column col-4\">\n                    <ProgressBar :icon=\"'alcohol'\" :color=\"'#00b31e'\" :width=\"70\" font-size=\"20\"\n                      :pv=\"progressPercent(alcohol_amount, selectedTotal)\" :total=\"alcohol_amount\"\n                      :cost=\"carry - selectedTotal\" :bold=\"12\" :text-bg-color=\"'#1f1f1f'\" :during=\"3\"\n                      :border-color=\"'#ffc508'\" :bg-color=\"'#fbb034'\" :text-color=\"'#ffffff'\" />\n                    <input type=\"number\" v-model=\"alcohol_amount\" placeholder=\"amount\" class=\"mt-5 input width-full\" />\n                  </div>\n                </div>\n                <h5 :class=\"{ 'text-red': progressPercent(selectedTotal, carry) > 100 }\">Total\n                  {{ progressPercent(selectedTotal, carry) }}%</h5>\n              </div>\n            </div>\n          </div>\n          <div v-if=\"action_type !== 'occupy' && target_type !== 'npc'\">\n            <h3>Type a nickname</h3>\n            <div class=\"d-flex\">\n              <input :readonly=\"targetNickname === 'TommasoBuscetta'\" class=\"input form-control mb-1\" type=\"string\"\n                placeholder=\"Nickname\" v-model=\"targetNickname\" />\n              <UiButton class=\"button button-green\" @click=\"getUserBase()\">\n                <div class=\"fad fa-search\"></div>\n              </UiButton>\n              <!-- <UiButton class=\"button button-blue\" @click=\"openFarmList()\">\n                <div class=\"iconfont icon-book\"></div>\n              </UiButton> -->\n              <!-- <h5 v-if=\"bases\" class=\"mt-1\">\n                <span v-if=\"enemyRankName\" class=\"mr-1\">{{ enemyRankName }}</span>\n                <span v-if=\"bases[0] && bases[0].role\" class=\"mr-1\">{{ bases[0].role }} OF</span>\n                <span v-if=\"bases[0] && bases[0].name\" class=\"mr-1\">{{ bases[0].name }}</span>\n                <span v-if=\"bases[0] && bases[0].ticker\">[{{ bases[0].ticker }}]</span>\n              </h5> -->\n              <!-- <div v-for=\"base in bases\" :key=\"base.id\">\n                <UiButton class=\"button button-yellow\" @click=\"chooseBase(base.territory, base.base, base.custom)\">{{\n                  base.territory }}:{{ base.base }} -\n                  {{ base.custom }} - HQ:{{ base.lvl }}</UiButton>\n              </div> -->\n            </div>\n          </div>\n          <h5 class=\"text-yellow ddrop mt-0 mb-0\" v-if=\"action_type === 'transport' || action_type === 'station'\"\n            @click=\"isOpen = !isOpen, active = !active\" :class=\"{ active }\">\n            CHOOSE FROM YOUR BASES\n            <svg viewBox=\"0 0 451.847 451.847\" width=\"12\">\n              <path d=\"M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751\n\t\tc12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0\n\t\tc12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z\"\n                fill=\"#fff\" />\n            </svg>\n          </h5>\n          <div :class=\"{ isOpen }\" class=\"dropdown\" v-if=\"action_type === 'transport' || action_type === 'station'\">\n            <UiButton class=\"btn btn-yellow btn-sm rp mr-2\" v-for=\"base in allbase\"\n              @click=\"setRallyPointCoordinates(base.territory, base.base)\"\n              v-if=\"base.building === 'headquarters' && (ownBase.territory + '' + ownBase.base !== base.territory + '' + base.base)\"\n              :key=\"(base.territory + '' + base.base)\">\n              {{ base.custom }}</UiButton>\n          </div>\n          <h3 class=\"mt-1\">Or your target coordinates</h3>\n          <div class=\"d-flex\">\n            <div class=\"col\">\n              <input :readonly=\"targetNickname === 'TommasoBuscetta'\" class=\"input form-control mb-4\" type=\"number\"\n                placeholder=\"Territory\" v-model=\"target\" />\n            </div>\n            <div class=\"col\">\n              <input :readonly=\"targetNickname === 'TommasoBuscetta'\" class=\"input form-control mb-4\" type=\"number\"\n                placeholder=\"Base\" v-model=\"base\" />\n            </div>\n          </div>\n          <div :class=\"tutorialStep === 7 ? 'd-none' : ''\"\n            v-if=\"target_type !== 'npc' && (action_type === 'attack' || action_type === 'transport')\">\n            <h3>Add a fight message*</h3>\n            <div>* optional</div>\n            <input class=\"input form-control btn-block mb-4\" placeholder=\"I'm coming for you\" v-model=\"message\"\n              maxlength=\"280\" />\n          </div>\n          <div v-if=\"action_type === 'occupy'\">\n            <h3>Choose Base Name (max 10 bases)</h3>\n            <input class=\"input form-control btn-block mb-2\" placeholder=\"Eg : Saint Street\" v-model=\"baseName\"\n              maxlength=\"280\" />\n          </div>\n          <div :class=\"tutoDetail === 1 && tutorialStep === 7 ? 'tutobox' : ''\">\n            <UiButton v-if=\"action_type === 'attack'\" :disabled=\"selectedUnits.length === 0 || !target || isLoading\"\n              class=\"btn w-100 gradient-red font-700 text-uppercase\" @click=\"handleSubmit\">\n              <SmallLoading v-if=\"isLoading\" />\n              <span v-else>{{ action_type }}</span>\n            </UiButton>\n          </div>\n\n          <UiButton v-if=\"action_type === 'transport'\" :disabled=\"selectedUnits.length === 0 || !target || isLoading\"\n            class=\"button button-large button-blue mb-2 d-block\" @click=\"handleSubmit\">\n            <SmallLoading v-if=\"isLoading\" />\n            <span v-else>{{ action_type }}</span>\n          </UiButton>\n          <UiButton v-if=\"action_type === 'occupy'\" :disabled=\"selectedUnits.length === 0 || !target || isLoading\"\n            class=\"button button-large button-green mb-2 d-block\" @click=\"handleSubmit\">\n            <SmallLoading v-if=\"isLoading\" />\n            <span v-else>{{ action_type }}</span>\n          </UiButton>\n          <UiButton v-if=\"action_type === 'station'\" :disabled=\"selectedUnits.length === 0 || !target || isLoading\"\n            class=\"button button-large button-orange mb-2 d-block\" @click=\"handleSubmit\">\n\n            <SmallLoading v-if=\"isLoading\" />\n            <span v-else>{{ action_type }}</span>\n          </UiButton>\n          <!-- <UiButton class=\"button button-red d-inline-block\" v-if=\"target_type !== 'npc'\"\n            :disabled=\"selectedUnits.length === 0 || !target || isLoading\" @click=\"listPopup()\">Add to list</UiButton>\n\n          <h5 class=\"ml-2 d-inline-block\" v-if=\"action_type === 'attack' && target_type !== 'npc'\">Visible for gang</h5>\n          <UiButton class=\"ml-2 button button-red\"\n            v-if=\"action_type === 'attack' && privateAttack && target_type !== 'npc'\"\n            :disabled=\"selectedUnits.length === 0 || !target || isLoading\" @click=\"makePrivate()\">\n            No\n          </UiButton>\n          <UiButton class=\"ml-2 button button-green\"\n            v-if=\"action_type === 'attack' && !privateAttack && target_type !== 'npc'\"\n            :disabled=\"selectedUnits.length === 0 || !target || isLoading\" @click=\"makePrivate()\">\n            Yes\n          </UiButton> -->\n          <div class=\"text-red text-left\" v-if=\"errorMessage\">{{ errorMessage }}</div>\n        </div>\n        <h4 class=\"text-center\" v-else>\n          You don't have any unit.\n          <h2>\n            <router-link :to=\"`/units`\" class=\"text-yellow\">Click here to start to recruit</router-link>\n          </h2>\n        </h4>\n      </div>\n    </div>\n    <UiCenter class=\"vue-ui-modal pt-2 pb-7\" v-if=\"popupOn\">\n      <div class=\"wrapper\">\n        <div>Choose a custom name to remember this opponent or his place.</div>\n        <input type=\"string\" v-model=\"farm_name\" placeholder=\"Snollygoster\" class=\"mt-2 input\" />\n        <UiButton class=\"button button-red\" @click=\"listPopup()\">Cancel</UiButton>\n        <UiButton class=\"button button-green ml-1\" @click=\"saveFarm()\">Save</UiButton>\n      </div>\n    </UiCenter>\n  </div>\n  <div v-else class=\"card card-style anim-fade-in\">\n    <div class=\"content\">\n      <h4 class=\"text-center\">\n        You must choose a location on the map first.\n        <h2>\n          <router-link :to=\"'/map/territory?location=' + rnd\" class=\"text-yellow\">Click here to choose a\n            location.</router-link>\n        </h2>\n      </h4>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport client from '@/helpers/client';\nimport { units } from 'drugwars';\nimport Promise from 'bluebird';\nimport draggable from 'vuedraggable';\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      action_type: this.$route.query.type || 'attack',\n      target: this.$route.query.target || null,\n      target_type: this.$route.query.target_type || null,\n      base: this.$route.query.base || null,\n      selectedUnits: [],\n      message: this.$route.query.message || null,\n      targetNickname: this.$route.query.nickname || null,\n      username: this.$store.state.auth.username,\n      errorMessage: null,\n      baseName: null,\n      farmOn: false,\n      favoriteCombinations: JSON.parse(localStorage.getItem('fav_combi')) || null,\n      farmlist: JSON.parse(localStorage.getItem('farmlist')) || null,\n      combination_name: null,\n      units: [],\n      bases: [],\n      drugs_amount: 0,\n      weapons_amount: 0,\n      alcohol_amount: 0,\n      popupOn: false,\n      isOpen: false,\n      active: false,\n      privateAttack: true,\n      enemyProd: 0,\n      rnd: Math.floor(Math.random() * Math.floor(4999)) + 1,\n    };\n  },\n  components: {\n    draggable,\n  },\n  created() {\n    if (this.targetNickname) {\n      this.getUserBase();\n    }\n  },\n  computed: {\n    tutorialStep() {\n      return this.$store.state.game.user.user.tutorial\n    },\n    tutoDetail() {\n      return this.$store.state.game.tutoDetail\n    },\n    ownBase() {\n      return this.$store.state.game.mainbase;\n    },\n    sent_fights() {\n      return this.$store.state.game.sent_fights;\n    },\n    allbase() {\n      return this.$store.state.game.user.buildings || null;\n    },\n    nickname() {\n      return this.$store.state.game.user.user.nickname;\n    },\n    ownUnits() {\n      const units = [];\n      this.$store.state.game.user.units.forEach(element => {\n        if (\n          element.territory === this.ownBase.territory &&\n          element.base === this.ownBase.base &&\n          element.amount > 0\n        )\n          units.push({\n            key: element.unit,\n            amount: element.amount,\n          });\n      });\n      return units;\n    },\n    alreadylisted() {\n      let favs = [];\n      if (localStorage.getItem('farmlist')) {\n        favs = JSON.parse(localStorage.getItem('farmlist'));\n      }\n      if (favs.find(f => f.set.territory === this.target && f.set.location === this.base))\n        return true;\n      return false;\n    },\n    selectedTotal() {\n      let selected = 0;\n      const drugs = parseInt(this.drugs_amount) || 0;\n      const weapons = parseInt(this.weapons_amount) || 0;\n      const alcohol = parseInt(this.alcohol_amount) || 0;\n      selected = drugs + weapons + alcohol;\n      return selected;\n    },\n    carry() {\n      let carry = 0;\n      this.selectedUnits.forEach(unit => {\n        carry += units[unit.key].capacity * unit.amount;\n      });\n      return carry;\n    },\n    defensivePower() {\n      let supply = 0;\n      let power = 0;\n      this.$store.state.game.user.units.forEach(unit => {\n        supply += units[unit.unit].supply;\n      });\n      power = Math.round(100 - parseFloat(supply / 5).toFixed(0) / 100);\n      const coordination = this.$store.state.game.user.trainings.find(\n        b => b.key === 'coordination' || b.training === 'coordination',\n      );\n      if (coordination) power += parseInt(coordination.lvl) / 10;\n      if (power >= 100) return 100;\n      if (power >= 65) return power;\n      return 65;\n    },\n    offensivePower() {\n      let supply = 0;\n      let power = 0;\n      this.selectedUnits.forEach(unit => {\n        supply += units[unit.key].supply * unit.amount;\n      });\n      power = Math.round(100 - parseFloat(supply / 6).toFixed(0) / 100);\n      const coordination = this.$store.state.game.user.trainings.find(\n        b => b.key === 'coordination' || b.training === 'coordination',\n      );\n      if (coordination) power += parseInt(coordination.lvl) / 10;\n      if (power >= 100) return 100;\n      if (power >= 60) return power;\n      return 60;\n    },\n    hasNotEnough() {\n      return (\n        parseInt(this.drugs_amount) > this.user.drugs_balance ||\n        parseInt(this.weapons_amount) > this.user.weapons_balance ||\n        parseInt(this.alcohol_amount) > this.user.alcohols_balance\n      );\n    },\n    timer() {\n      const self = this;\n      let timer = 0;\n      let distance = 0;\n      let reduce = 0;\n      this.selectedUnits.forEach(unit => {\n        if (units[unit.key].speed && units[unit.key].speed * 60 > timer) {\n          timer = units[unit.key].speed * 60;\n        }\n      });\n      if (this.selectedUnits && self.target)\n        distance =\n          Number(self.ownBase.territory) > Number(self.target)\n            ? Number(self.ownBase.territory) - Number(self.target)\n            : Number(self.target) - Number(self.ownBase.territory);\n      const training = this.$store.state.game.user.trainings.find(b => b.training === 'routing');\n      if (training) {\n        reduce = training.lvl;\n      }\n      if (\n        this.selectedUnits &&\n        this.selectedUnits.length === 1 &&\n        this.selectedUnits[0].key === 'spy' &&\n        self.target\n      ) {\n        timer += distance;\n      } else {\n        timer += distance * 2;\n      }\n      return (timer = (timer - (timer / 220) * reduce) * 1000);\n    },\n    cost() {\n      const self = this;\n      let cost = 0;\n      let distance = 0;\n      distance =\n        Number(self.ownBase.territory) > Number(self.target)\n          ? Number(self.ownBase.territory) - Number(self.target)\n          : Number(self.target) - Number(self.ownBase.territory);\n      this.selectedUnits.forEach(unit => {\n        if (units[unit.key].move_cost) {\n          cost += units[unit.key].move_cost * unit.amount;\n        }\n      });\n      if (self.action_type === 'attack') return (cost * distance) / 100;\n      return (cost * distance) / 200;\n    },\n    enemyRankName() {\n      let rank = 10;\n      const names = [\n        'weak',\n        'recruit',\n        'grifter',\n        'outlaw',\n        'enforcer',\n        'smuggler',\n        'lieutenant',\n        'boss',\n        'legend',\n        'divine',\n        'immortal',\n      ];\n      const totalprod = this.$store.state.game.prizeProps.max_prod[0].max_prod;\n      const userprod = this.enemyProd;\n      rank = Math.floor((userprod / totalprod) * 10);\n      return names[rank];\n    },\n    enemyMaxSupply() {\n      const totalprod = this.$store.state.game.prizeProps.max_prod[0].max_prod;\n      const userprod = this.enemyProd;\n      let rank = Math.floor((userprod / totalprod) * 10);\n      if (rank === 0) rank = 1;\n      const max_supply = rank * 10000;\n      return max_supply;\n    },\n    maxSupply() {\n      const totalprod = this.$store.state.game.prizeProps.max_prod[0].max_prod;\n      const userprod = this.$store.state.game.user.total_production;\n      let rank = Math.floor((userprod / totalprod) * 10);\n      if (rank === 0) rank = 1;\n      const max_supply = rank * 10000;\n      return max_supply;\n    },\n  },\n  methods: {\n    ...mapActions(['missions', 'init', 'get_bases', 'setBase', 'setTutoDetail']),\n    resetForm() {\n      this.target = null;\n      this.base = null;\n      this.selectedUnits = [];\n      this.message = null;\n      this.target_type = null;\n    },\n    chooseBase(territory, location, custom) {\n      this.target = territory;\n      this.base = location;\n      this.farm_name = `${this.targetNickname} ${custom}`;\n    },\n    chooseActionType(value) {\n      this.action_type = value;\n      if (this.action_type === 'occupy') {\n        this.selectedUnits = [];\n      }\n      if (this.target_type === 'npc') {\n        this.resetForm();\n      }\n    },\n    getUserBase() {\n      const self = this;\n      self.bases = null;\n\n      client.requestAsync('get_user_bases', self.targetNickname).then(result => {\n        self.bases = result[0];\n        console.log(self.bases[0])\n        self.chooseBase(self.bases[0].territory, self.bases[0].base, self.bases[0].custom)\n        self.enemyProd = result[1][0].prod_rate;\n        self.isLoading = false;\n      });\n\n    },\n    openFarmList() {\n      const self = this;\n      self.farmOn = !self.farmOn;\n    },\n    listPopup(name) {\n      this.popupOn = !this.popupOn;\n    },\n    saveFarm() {\n      let favs = [];\n      if (localStorage.getItem('farmlist')) {\n        favs = JSON.parse(localStorage.getItem('farmlist'));\n      }\n      const farm = {};\n      if (this.targetNickname) {\n        farm.name = `${this.targetNickname} ${this.bases.find(b => b.territory === this.target && b.base === this.base).custom\n          }`;\n        this.farm_name = farm.name;\n      } else {\n        farm.name = 'Snollygoster';\n      }\n      farm.set = { territory: this.target, location: this.base };\n      favs.push(farm);\n      localStorage.setItem('farmlist', JSON.stringify(favs));\n      this.popupOn = !this.popupOn;\n    },\n    progressPercent(total, cost) {\n      let progress;\n      if (total && cost) {\n        this.up = false;\n        progress = parseFloat((total * 100) / cost).toFixed(2);\n        return progress;\n      }\n      this.up = false;\n      return 0;\n    },\n    removeUnits() {\n      this.selectedUnits = [];\n    },\n    async handleSubmit() {\n      this.setTutoDetail(2)\n      this.isLoading = true;\n      const self = this;\n      let payload = {};\n      switch (self.action_type) {\n        case 'attack':\n          if (self.target_type === 'npc')\n            payload = {\n              from_territory: Number(self.ownBase.territory),\n              from_base: Number(self.ownBase.base),\n              territory: Number(self.target),\n              base: Number(self.base),\n              units: self.selectedUnits,\n              type: 'fight-npc',\n            };\n          else\n            payload = {\n              from_territory: Number(self.ownBase.territory),\n              from_base: Number(self.ownBase.base),\n              territory: Number(self.target),\n              base: Number(self.base),\n              units: self.selectedUnits,\n              type: 'fight',\n              message: self.message || '',\n              private: self.privateAttack,\n            };\n          break;\n        case 'transport':\n          const drugs = parseInt(this.drugs_amount) || 0;\n          const weapons = parseInt(this.weapons_amount) || 0;\n          const alcohol = parseInt(this.alcohol_amount) || 0;\n          if (drugs >= 0 && weapons >= 0 && alcohol >= 0) {\n            payload = {\n              from_territory: Number(self.ownBase.territory),\n              from_base: Number(self.ownBase.base),\n              territory: Number(self.target),\n              base: Number(self.base),\n              units: self.selectedUnits,\n              type: 'transport',\n              resources: { drugs, weapons, alcohol },\n              message: self.message || '',\n            };\n          }\n          break;\n        case 'station':\n          payload = {\n            from_territory: Number(self.ownBase.territory),\n            from_base: Number(self.ownBase.base),\n            territory: Number(self.target),\n            base: Number(self.base),\n            units: self.selectedUnits,\n            type: 'station',\n            message: self.message || '',\n          };\n          break;\n        case 'occupy':\n          payload = {\n            from_territory: Number(self.ownBase.territory),\n            from_base: Number(self.ownBase.base),\n            territory: Number(self.target),\n            base: Number(self.base),\n            name: self.baseName,\n            units: self.selectedUnits,\n            type: 'dw-base',\n          };\n          break;\n        default:\n          break;\n      }\n\n      const isValid = await this.validateForm(self.action_type);\n\n      if (isValid) {\n        this.resetForm();\n        this.missions(payload)\n          .then(() => {\n            if (self.action_type === 'occupy')\n              Promise.delay(5000).then(() => {\n                self.init();\n              });\n            else\n              Promise.delay(3000).then(() => {\n                self.init();\n              });\n            this.isLoading = false;\n          })\n          .catch(e => {\n            console.error('Failed to start a fight=', e);\n            this.isLoading = false;\n          });\n      } else {\n        this.isLoading = false;\n      }\n    },\n    async validateForm(type) {\n      this.errorMessage = null;\n      let target;\n      if (this.targetNickname) target = this.targetNickname.toLowerCase();\n\n      if (type === 'attack' && target === this.nickname) {\n        this.errorMessage = 'Attack yourself? Are you serious?';\n      }\n      // if (this.cost > this.ownBase.drug_balance) {\n      //   this.errorMessage = 'You dont have enough drugs for this!';\n      // }\n      const now = new Date();\n      const isPunished = new Date(Date.parse(this.$store.state.game.user.user.punished));\n      if (isPunished > now) {\n        this.errorMessage = `Hmm Bad talks are not appropriated in DrugWars, try again after ${isPunished.toLocaleString()}`;\n      }\n\n      if (!this.baseName && this.action_type === 'occupy') {\n        this.errorMessage = `Please choose a name for your base`;\n      } else if (this.action_type === 'occupy' && this.baseName.length > 25) {\n        this.errorMessage = `Please choose a shorter name for your base`;\n      } else if (this.action_type === 'occupy' && this.baseName.length < 4) {\n        this.errorMessage = `Please choose a longer name for your base`;\n      }\n      if (!this.errorMessage && target)\n        try {\n          const user = await client.requestAsync('check_user', target);\n          if (!user || !user[0].nickname) {\n            this.errorMessage = `Player '${target}' does not exist`;\n          }\n          return !this.errorMessage;\n        } catch (e) {\n          this.errorMessage = `Player with nickname '${target}' doesn't exist`;\n          console.error(`Player with nickname '${target}' doesn't exist`, e);\n          return false;\n        }\n      if (this.errorMessage) {\n        return false;\n      }\n      return !this.errorMessage;\n    },\n    addUnit(payload) {\n      this.setTutoDetail(1)\n      const amount = parseInt(payload.amount);\n      const selectedUnitsObj = {};\n      const ownUnit = this.ownUnits.find(unit => unit.key === payload.key);\n\n      this.selectedUnits.forEach(unit => {\n        selectedUnitsObj[unit.key] = unit.amount;\n      });\n      selectedUnitsObj[payload.key] = !selectedUnitsObj[payload.key]\n        ? amount\n        : amount + parseInt(selectedUnitsObj[payload.key]);\n      if (selectedUnitsObj[payload.key] > ownUnit.amount) {\n        selectedUnitsObj[payload.key] = parseInt(ownUnit.amount);\n      }\n      if (selectedUnitsObj[payload.key] < 0) {\n        selectedUnitsObj[payload.key] = 0;\n      }\n\n      this.selectedUnits = Object.keys(selectedUnitsObj).map(key => ({\n        key,\n        amount: selectedUnitsObj[key],\n      }));\n    },\n    makePrivate() {\n      this.privateAttack = !this.privateAttack;\n    },\n    setRallyPointCoordinates(territory, base) {\n      console.log(territory);\n      this.target = territory;\n      this.base = base;\n      this.isOpen = !this.isOpen;\n    },\n    openInNewTab() {\n      const url = 'https://simulator.drugwars.io/';\n      const myarmy = this.ownUnits.map(unit =>\n        this.serialize({\n          p: 1,\n          key: unit.key,\n          n: unit.amount,\n        }),\n      );\n      const mytraining = this.$store.state.game.user.trainings.map(training =>\n        this.serialize({\n          p: 1,\n          key: training.training,\n          lvl: training.lvl,\n        }),\n      );\n\n      let toOpen = `player,${myarmy}`;\n      if (mytraining && mytraining.length > 0) toOpen += `,${mytraining}`;\n      const win = window.open(`${url}?${toOpen}`, '_blank');\n      win.focus();\n    },\n    serialize(obj) {\n      const str = [];\n      for (const p in obj)\n        if (obj.hasOwnProperty(p)) {\n          str.push(`${encodeURIComponent(p)}=${encodeURIComponent(obj[p])}`);\n        }\n      return str.join('&');\n    },\n    onEnd() {\n      localStorage.setItem('fav_combi', JSON.stringify(this.favoriteCombinations));\n    },\n    saveCombination() {\n      let favs = [];\n      if (localStorage.getItem('fav_combi')) {\n        favs = JSON.parse(localStorage.getItem('fav_combi'));\n      }\n      const myarmy = this.selectedUnits.map(unit => ({\n        key: unit.key,\n        amount: unit.amount,\n      }));\n\n      const combi = {};\n      combi.name = this.combination_name;\n      combi.set = myarmy;\n      favs.push(combi);\n      this.favoriteCombinations = favs;\n      this.combination_name = null;\n      localStorage.setItem('fav_combi', JSON.stringify(favs));\n    },\n    loadCombination(combination) {\n      const combinationtoload = [];\n      combination.forEach(unit => {\n        if (\n          this.ownUnits.find(lunit => lunit.key === unit.key) &&\n          unit.amount <= this.ownUnits.find(lunit => lunit.key === unit.key).amount\n        ) {\n          combinationtoload.push(unit);\n        } else {\n          if (this.ownUnits.find(lunit => lunit.key === unit.key))\n            unit.amount = this.ownUnits.find(lunit => lunit.key === unit.key).amount;\n          combinationtoload.push(unit);\n        }\n      });\n      this.selectedUnits = combinationtoload;\n    },\n    deleteCombination(combination) {\n      let favs = [];\n      if (localStorage.getItem('fav_combi')) {\n        favs = JSON.parse(localStorage.getItem('fav_combi'));\n      }\n      for (let i = 0; i < favs.length; i += 1) {\n        if (favs[i].name === combination) {\n          favs.splice(i, 1);\n          i -= 1;\n        }\n      }\n      localStorage.setItem('fav_combi', JSON.stringify(favs));\n      this.favoriteCombinations = favs;\n    },\n    loadFarm(farm) {\n      this.target = farm.territory;\n      this.base = farm.location;\n      this.farmOn = !this.farmOn;\n    },\n    deleteFarm(combination) {\n      let favs = [];\n      if (localStorage.getItem('farmlist')) {\n        favs = JSON.parse(localStorage.getItem('farmlist'));\n      }\n      for (let i = 0; i < favs.length; i += 1) {\n        if (favs[i].name === combination) {\n          favs.splice(i, 1);\n          i -= 1;\n        }\n      }\n      localStorage.setItem('farmlist', JSON.stringify(favs));\n      this.farmlist = favs;\n    },\n  },\n};\n</script>\n\n\n<style scoped lang=\"less\">\n.width-full {\n  max-width: 100%;\n}\n\n.vue-ui-modal {\n  background: rgba(0, 0, 0, 0.7);\n  overflow-y: scroll;\n}\n\n.farm {\n  background: rgba(0, 0, 0, 0.9);\n}\n\n@media screen and (min-width: 399px) and (max-width: 1119px) {\n  .column.b {\n    width: 100% !important;\n  }\n}\n\n.dropdown {\n  left: 50%;\n  transform: translatey(-30%) rotatex(90deg) scale(0);\n  margin-top: 0.55em;\n  transform-origin: 0 0;\n  border-radius: 0.35em;\n  display: none;\n  opacity: 0;\n  transition: all 200ms linear;\n\n  &.isOpen {\n    transform: translatey(0%);\n    display: block;\n    opacity: 1;\n  }\n}\n\n.rp {\n  padding: 5px;\n  background: black;\n  color: #ffc508;\n  z-index: 999999;\n  text-transform: uppercase;\n}\n\n.rp:hover {\n  background: #ffc508;\n  color: black;\n  font-weight: bold;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Actions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Actions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Actions.vue?vue&type=template&id=c7d22a3e&scoped=true&\"\nimport script from \"./Actions.vue?vue&type=script&lang=js&\"\nexport * from \"./Actions.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Actions.vue?vue&type=style&index=0&id=c7d22a3e&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c7d22a3e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Actions.vue?vue&type=style&index=0&id=c7d22a3e&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Actions.vue?vue&type=style&index=0&id=c7d22a3e&scoped=true&lang=less&\""],"sourceRoot":""}