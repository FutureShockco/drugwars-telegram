{"version":3,"sources":["webpack:///./src/views/Gangs/Fights.vue?aa52","webpack:///./src/views/Gangs/Fights.vue?4567","webpack:///src/views/Gangs/Fights.vue","webpack:///./src/views/Gangs/Fights.vue?0bd6","webpack:///./src/views/Gangs/Fights.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","Math","ceil","sent","load_gangfights","_l","fight","key","fight_key","transport_key","type","_e","gangfights","length","staticRenderFns","data","id","$route","params","isInit","isLoading","gangs","user","$store","state","game","components","Paginate","created","computed","sent_gangfights","methods","end","start","force_sent_gangfights_refresh","refresh_sent_gangfights","component"],"mappings":"sIAAihB,K,gECAjhB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,aAAaA,EAAG,WAAW,CAACE,YAAY,mCAAmCC,MAAM,CAAC,aAAaC,KAAKC,KAAKT,EAAIU,KAAK,IAAI,aAAa,EAAE,eAAe,EAAE,gBAAgBV,EAAIW,gBAAgB,YAAY,OAAO,YAAY,OAAO,kBAAkB,aAAa,aAAa,WAAWP,EAAG,MAAM,CAACE,YAAY,OAAO,CAACN,EAAIY,GAAIZ,EAAc,YAAE,SAASa,GAAO,OAAOT,EAAG,MAAM,CAACU,IAAID,EAAME,WAAaF,EAAMG,cAAcV,YAAY,SAAS,CAAiB,UAAfO,EAAMI,KAAkBb,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQM,KAASb,EAAIkB,KAAqB,cAAfL,EAAMI,KAAsBb,EAAG,mBAAmB,CAACG,MAAM,CAAC,MAAQM,KAASb,EAAIkB,MAAM,MAAOlB,EAAImB,YAAenB,EAAImB,WAAWC,OAAkCpB,EAAIkB,KAA9Bd,EAAG,IAAI,CAACA,EAAG,YAAY,IAAa,GAAGA,EAAG,WAAW,CAACE,YAAY,wCAAwCC,MAAM,CAAC,aAAaC,KAAKC,KAAKT,EAAIU,KAAK,IAAI,aAAa,EAAE,eAAe,EAAE,gBAAgBV,EAAIW,gBAAgB,YAAY,OAAO,YAAY,OAAO,kBAAkB,aAAa,aAAa,YAAY,IACniCU,EAAkB,G,yDCqBtB,GACEC,KADF,WAEI,MAAO,CACLC,GAAItB,KAAKuB,OAAOC,OAAOF,GACvBG,QAAQ,EACRC,WAAW,EACXC,MAAO,KACPC,KAAM5B,KAAK6B,OAAOC,MAAMC,KAAKH,KAAKA,OAGtCI,WAAY,CACVC,SAAJ,KAEEC,QAbF,WAcIlC,KAAKU,gBAAgB,IAEvByB,SAAU,CACRjB,WADJ,WAEM,OAAO,OAAb,aAAa,CAAb,2DAEIT,KAJJ,WAKM,OAAIT,KAAK6B,OAAOC,MAAMC,KAAKK,gBACjC,8CACa,IAGXC,QAAS,OAAX,OAAW,CAAX,GACA,4FADA,CAEI3B,gBAFJ,SAEA,cACA,KACA,UACM4B,EAAc,GAARC,EACNA,EAAQD,EAAM,GACA,IAAVC,EACFvC,KAAKwC,+BAA8B,GAEnCxC,KAAKwC,+BAA8B,GAErCxC,KAAKyC,wBAAwB,CAAnC,qBACA,iBACQ,EAAR,gBAEA,mBACQ,QAAR,kBACQ,EAAR,oBClE+U,I,wBCQ3UC,EAAY,OAAhB,OAAgB,CACd,EACA5C,EACAsB,GACA,EACA,KACA,KACA,MAIF,e","file":"js/gang-fights.48a7e2ea.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fights.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fights.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('GangsTabs'),_c('Paginate',{staticClass:\"ml-6 mt-4 text-center width-full\",attrs:{\"page-count\":Math.ceil(_vm.sent/25),\"page-range\":3,\"margin-pages\":2,\"click-handler\":_vm.load_gangfights,\"prev-text\":'Prev',\"next-text\":'Next',\"container-class\":'pagination',\"page-class\":'fight'}}),_c('div',{staticClass:\"p-4\"},[_vm._l((_vm.gangfights),function(fight){return _c('div',{key:fight.fight_key || fight.transport_key,staticClass:\"fight\"},[(fight.type === 'fight')?_c('ActionsFight',{attrs:{\"fight\":fight}}):_vm._e(),(fight.type === 'transport')?_c('ActionsTransport',{attrs:{\"fight\":fight}}):_vm._e()],1)}),(!_vm.gangfights || !_vm.gangfights.length)?_c('p',[_c('Loading')],1):_vm._e()],2),_c('Paginate',{staticClass:\"ml-6 mb-4 mt-0 text-center width-full\",attrs:{\"page-count\":Math.ceil(_vm.sent/25),\"page-range\":3,\"margin-pages\":2,\"click-handler\":_vm.load_gangfights,\"prev-text\":'Prev',\"next-text\":'Next',\"container-class\":'pagination',\"page-class\":'fight'}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <GangsTabs/>\n        <Paginate class=\"ml-6 mt-4 text-center width-full\" :page-count=\"Math.ceil(sent/25)\" :page-range=\"3\" :margin-pages=\"2\" :click-handler=\"load_gangfights\" :prev-text=\"'Prev'\" :next-text=\"'Next'\" :container-class=\"'pagination'\" :page-class=\"'fight'\"></Paginate>\n        <div class=\"p-4\">\n            <div class=\"fight\" v-for=\"fight in gangfights\" :key=\"fight.fight_key || fight.transport_key\">\n                <ActionsFight v-if=\"fight.type === 'fight'\" :fight=\"fight\" />\n                <ActionsTransport v-if=\"fight.type === 'transport'\" :fight=\"fight\" />\n            </div>\n            <p v-if=\"!gangfights || !gangfights.length\">\n                <Loading/>\n            </p>\n        </div>\n        <Paginate class=\"ml-6 mb-4 mt-0 text-center width-full\" :page-count=\"Math.ceil(sent/25)\" :page-range=\"3\" :margin-pages=\"2\" :click-handler=\"load_gangfights\" :prev-text=\"'Prev'\" :next-text=\"'Next'\" :container-class=\"'pagination'\" :page-class=\"'fight'\"></Paginate>\n    </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport Paginate from 'vuejs-paginate';\nimport { orderBy } from 'lodash';\n\nexport default {\n  data() {\n    return {\n      id: this.$route.params.id,\n      isInit: false,\n      isLoading: false,\n      gangs: null,\n      user: this.$store.state.game.user.user,\n    };\n  },\n  components: {\n    Paginate,\n  },\n  created() {\n    this.load_gangfights(1);\n  },\n  computed: {\n    gangfights() {\n      return orderBy(this.$store.state.game.sent_gangfights, 'end_date', 'desc');\n    },\n    sent() {\n      if (this.$store.state.game.sent_gangfights)\n        return this.$store.state.game.sent_gangfights.length;\n      return 0;\n    },\n  },\n  methods: {\n    ...mapActions(['init', 'notify', 'refresh_sent_gangfights', 'force_sent_gangfights_refresh']),\n    load_gangfights(start) {\n      let end = 25;\n      const id = this.id;\n      end = start * 25;\n      start = end - 25; // eslint-disable-line no-param-reassign\n      if (start === 0) {\n        this.force_sent_gangfights_refresh(true);\n      } else {\n        this.force_sent_gangfights_refresh(false);\n      }\n      this.refresh_sent_gangfights({ id, start, end })\n        .then(() => {\n          this.isLoading = false;\n        })\n        .catch(e => {\n          console.error('Failed', e);\n          this.isLoading = false;\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.pagination {\n  margin-left: auto;\n  margin-right: auto;\n  display: -webkit-inline-box;\n  list-style: none;\n  a,\n  span,\n  em {\n    background-color: #8080803b !important;\n  }\n}\n\nli .disabled {\n  background-color: #8080803b !important;\n  color: #000000 !important;\n  .pagination a {\n    color: #000000 !important;\n  }\n}\n\n.pagination a,\n.pagination span,\n.pagination em {\n  background-color: #8080803b !important;\n  color: #fbbd08;\n  background: #1c1c1c !important;\n  border: 1px solid #3e3e3e;\n}\n\n.pagination .gap,\n.pagination .disabled,\n.pagination .gap:hover,\n.pagination .disabled:hover {\n  color: #d1d5da;\n  cursor: default;\n  background-color: #8080803b !important;\n}\n\n.pagination a:hover,\n.pagination a:focus,\n.pagination span:hover,\n.pagination span:focus,\n.pagination em:hover,\n.pagination em:focus {\n  border: 1px solid #fbbd08;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fights.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fights.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Fights.vue?vue&type=template&id=d9289f94&\"\nimport script from \"./Fights.vue?vue&type=script&lang=js&\"\nexport * from \"./Fights.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Fights.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}