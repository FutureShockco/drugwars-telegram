(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["gang-create"],{f9b6:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("GangsTabs"),n("div",{staticClass:"p-4 text-center anim-fade-in"},[n("h2",[e._v("Create your gang")]),n("Cost",{staticClass:"mx-auto",attrs:{drugsCost:e.gangCreationFee.drugs,weaponsCost:e.gangCreationFee.weapons,alcoholsCost:e.gangCreationFee.alcohols,quantity:1}}),e.hasEnough?n("form",{staticClass:"form container-xxs",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[n("p",[e._v("Id (no special characters, no space, max 16 characters)")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.gang,expression:"gang"}],staticClass:"input input-primary mb-2",attrs:{maxlength:"16",placeholder:"The id of your gang, example: 'frenchconnection'"},domProps:{value:e.gang},on:{input:function(t){t.target.composing||(e.gang=t.target.value)}}}),n("p",[e._v("Tag (max 6 characters)")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.ticker,expression:"ticker"}],staticClass:"input input-primary mb-4",attrs:{maxlength:"6",placeholder:"The ticker of you gang, example: 'FRCON'"},domProps:{value:e.ticker},on:{input:function(t){t.target.composing||(e.ticker=t.target.value)}}}),n("UiButton",{staticClass:"button input-block button-large button-green mb-2",attrs:{type:"submit",disabled:e.isLoading}},[e.isLoading?n("SmallLoading"):n("span",[e._v("Create")])],1)],1):n("p",[e._v("You need more resources to create your gang.")])],1)],1)},i=[],s=n("795b"),r=n.n(s),o=(n("c5f6"),n("cebc")),u=(n("7514"),n("2f62")),g=n("a2b6"),c={drugs:25e4,weapons:25e4,alcohols:25e4},l={data:function(){return{isLoading:!1,gang:null,ticker:null,gangCreationFee:c}},computed:{user:function(){return this.$store.state.game.user.user},base:function(){return this.$store.state.game.mainbase},HQ:function(){var e=this;return this.base&&this.$store.state.game.user.buildings.find((function(t){return"headquarters"===t.building&&t.territory===e.base.territory&&t.base===e.base.base}))?this.$store.state.game.user.buildings.find((function(t){return"headquarters"===t.building&&t.territory===e.base.territory&&t.base===e.base.base})):this.$store.state.game.user.buildings.find((function(e){return"headquarters"===e.building}))},balances:function(){var e=this,t=0;this.$store.state.game.user.buildings.find((function(t){return"operation_center"===t.building&&t.territory===e.base.territory&&t.base===e.base.base}))&&(t=this.$store.state.game.user.buildings.find((function(t){return"operation_center"===t.building&&t.territory===e.base.territory&&t.base===e.base.base})).lvl);var n=0;this.$store.state.game.gang_buildings.find((function(e){return"scientific_lab"===e.building}))&&(n=this.$store.state.game.gang_buildings.find((function(e){return"scientific_lab"===e.building})).lvl);var a=0;this.$store.state.game.gang_buildings.find((function(e){return"weapon_center"===e.building}))&&(a=this.$store.state.game.gang_buildings.find((function(e){return"weapon_center"===e.building})).lvl);var i=0;return this.$store.state.game.gang_buildings.find((function(e){return"distillery_school"===e.building}))&&(i=this.$store.state.game.gang_buildings.find((function(e){return"distillery_school"===e.building})).lvl),Object(g["a"])(this.HQ,t,n,a,i,this.$store.state.ui.timestamp)},hasEnough:function(){return this.balances.drugs>this.gangCreationFee.drugs&&this.balances.weapons>this.gangCreationFee.weapons&&this.balances.alcohols>this.gangCreationFee.alcohols}},methods:Object(o["a"])({},Object(u["b"])(["send","notify"]),{handleSubmit:function(){var e=this;this.isLoading=!0;var t={gang:this.gang.trim().toLowerCase(),ticker:this.ticker.toUpperCase(),type:"gang-create",territory:Number(this.base.territory),base:Number(this.base.base)};this.send(t).then((function(){r.a.delay(3e3).then((function(){e.$router.push("/gangs")}))})).catch((function(t){e.notify({type:"error",message:"Failed to create gang"}),console.error("Failed to create gang",t),e.isLoading=!1}))}})},d=l,b=n("2877"),h=Object(b["a"])(d,a,i,!1,null,"2ea9c2e2",null);t["default"]=h.exports}}]);
//# sourceMappingURL=gang-create.4e2b682e.js.map