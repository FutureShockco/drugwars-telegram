{"version":3,"sources":["webpack:///./src/views/Referral.vue?242f","webpack:///src/views/Referral.vue","webpack:///./src/views/Referral.vue?fb44","webpack:///./src/views/Referral.vue","webpack:///./src/views/Referral.vue?2724"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","url","_s","class","copied","on","copy","_l","referral","key","nickname","getReferralRewardsDWD","drug_production_rate","referrals","length","_e","box","staticStyle","resources","drug","weapon","alcohol","$event","claim","boxes","staticRenderFns","data","username","$store","state","auth","green","computed","game","user","referals","prizeProps","created","closeModalVideo","load_boxes","methods","usertasks","client","console","log","result","forEach","element","JSON","parse","claimBox","setTimeout","self","copyText","navigator","clipboard","writeText","component"],"mappings":"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","file":"js/referral.cd8baf2c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('RewardsTabs'),_c('div',{staticClass:\"card mx-0 mb-1\"},[_c('div',{staticClass:\"content\"},[_vm._m(0),_c('h2',{staticClass:\"mt-3\"},[_vm._v(\"Invite Your Friends\")]),_c('h5',[_vm._v(\"Share this link with your friends: \"),_c('a',{attrs:{\"href\":_vm.url,\"target\":\"_blank\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.url)+\"\\n        \")])]),_c('h6',{class:(_vm.copied === 'Copied to clipboard') ? 'text-green' : '',on:{\"click\":_vm.copy}},[_vm._v(_vm._s(_vm.copied)+\" \"),_c('i',{staticClass:\"fad fa-copy font-24 color-green-dark\"})]),_c('h2',{staticClass:\"mt-3\"},[_vm._v(\"Help Them Succeed\")]),_c('h5',[_vm._v(\"Encourage your friends to win resources and achieve great rewards!\")]),_c('h2',{staticClass:\"mt-3\"},[_vm._v(\"Both of you receive a drop of resources\")]),_c('h5',[_vm._v(\"Instantly receive a box containing  \"),_c('div',[_vm._v(\"1000 \"),_c('Icon',{attrs:{\"name\":\"drug\"}}),_vm._v(\" - 2500 \"),_c('Icon',{attrs:{\"name\":\"weapon\"}}),_vm._v(\" - 2500 \"),_c('Icon',{attrs:{\"name\":\"alcohol\"}})],1)]),_c('h2',{staticClass:\"mt-3\"},[_vm._v(\"Earn a 5% Bonus\")]),_c('h5',[_vm._v(\"For every DW token reward your friends earn with production, you receive a 5% bonus on their rewards. This\\n        bonus is an extra\\n        benefit for you and does not affect their rewards at all!\")])])]),_c('div',{staticClass:\"card mb-1\"},[_c('div',{staticClass:\"content\"},[_c('h3',[_vm._v(\"Your referrals\")]),_c('div',{staticClass:\"referral\"},_vm._l((_vm.referrals),function(referral,key){return _c('div',{key:key},[_c('p',[_vm._v(\"\\n            \"+_vm._s(referral.nickname)+\"\\n            \"),(_vm.getReferralRewardsDWD(referral.drug_production_rate) > 0.001)?_c('span',{staticClass:\"text-green\"},[_vm._v(\"\\n              +\"+_vm._s(_vm.getReferralRewardsDWD(referral.drug_production_rate))+\" DWD\\n            \")]):_c('span',{staticClass:\"text-red\"},[_vm._v(\"\\n              Not enough drug production\\n            \")])])])})),(!_vm.referrals.length)?_c('div',[_c('p',[_vm._v(\"You have not referred anyone yet.\")]),_vm._v(\"\\n        Start referring now and boost your rewards while helping your friends thrive in DrugWars!\\n      \")]):_vm._e()])]),_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"content\"},[_c('h3',[_vm._v(\"Your drops\")]),_c('div',{staticClass:\"row g-2 mx-auto\"},_vm._l((_vm.boxes),function(box,key){return _c('div',{key:key,staticClass:\"col-4 text-center\"},[_c('div',{staticClass:\"border rounded-s border-highlight\"},[_c('img',{staticClass:\"img-fluid rounded-s\",staticStyle:{\"border\":\"1px solid #392828\"},attrs:{\"src\":\"/img/box.png\"}}),(box.resources.drug)?_c('h6',{staticClass:\"d-block mt-1\"},[_c('Icon',{attrs:{\"name\":\"drug\",\"size\":\"10\"}}),_vm._v(_vm._s(box.resources.drug)+\"\\n            \")],1):_vm._e(),(box.resources.weapon)?_c('h6',{staticClass:\"d-block\"},[_c('Icon',{attrs:{\"name\":\"weapon\",\"size\":\"10\"}}),_vm._v(_vm._s(box.resources.weapon)+\"\\n            \")],1):_vm._e(),(box.resources.alcohol)?_c('h6',{staticClass:\"d-block\"},[_c('Icon',{attrs:{\"name\":\"alcohol\",\"size\":\"10\"}}),_vm._v(_vm._s(box.resources.alcohol)+\"\\n            \")],1):_vm._e(),_c('UiButton',{staticClass:\"btn w-100 bg-highlight rounded-xs text-uppercase font-700 btn-xxs mt-1\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){_vm.claim(box)}}},[_vm._v(\"\\n              Claim\\n            \")])],1)])})),(!_vm.boxes.length)?_c('div',[_c('p',[_vm._v(\"You have nothign to claim yet.\")]),_vm._v(\"\\n        Start referring now and obtain drop boxes!\\n      \")]):_vm._e()])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex\"},[_c('div',[_c('h1',{staticClass:\"text-yellow\"},[_vm._v(\"DrugWars Referral Program\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <RewardsTabs />\n    <div class=\"card mx-0 mb-1\">\n      <div class=\"content\">\n        <div class=\"d-flex\">\n          <div>\n            <h1 class=\"text-yellow\">DrugWars Referral Program</h1>\n          </div>\n        </div>\n        <h2 class=\"mt-3\">Invite Your Friends</h2>\n        <h5>Share this link with your friends: <a :href=\"url\" target=\"_blank\">\n            {{ url }}\n          </a></h5>\n        <h6 @click=\"copy\" :class=\"(copied === 'Copied to clipboard') ? 'text-green' : ''\">{{ copied }} <i\n            class=\"fad fa-copy font-24 color-green-dark\"></i></h6>\n        <h2 class=\"mt-3\">Help Them Succeed</h2>\n        <h5>Encourage your friends to win resources and achieve great rewards!</h5>\n        <h2 class=\"mt-3\">Both of you receive a drop of resources</h2>\n        <h5>Instantly receive a box containing  <div>1000 <Icon name=\"drug\"/> - 2500 <Icon name=\"weapon\"/> - 2500 <Icon name=\"alcohol\"/></div></h5>\n        <h2 class=\"mt-3\">Earn a 5% Bonus</h2>\n        <h5>For every DW token reward your friends earn with production, you receive a 5% bonus on their rewards. This\n          bonus is an extra\n          benefit for you and does not affect their rewards at all!</h5>\n\n      </div>\n    </div>\n    <div class=\"card mb-1\">\n      <div class=\"content\">\n        <h3>Your referrals</h3>\n\n        <div class=\"referral\">\n          <div :key=\"key\" v-for=\"(referral, key) in referrals\">\n            <p>\n              {{ referral.nickname }}\n              <span class=\"text-green\" v-if=\"getReferralRewardsDWD(referral.drug_production_rate) > 0.001\">\n                +{{ getReferralRewardsDWD(referral.drug_production_rate) }} DWD\n              </span>\n              <span class=\"text-red\" v-else>\n                Not enough drug production\n              </span>\n            </p>\n          </div>\n        </div>\n        <div v-if=\"!referrals.length\">\n          <p>You have not referred anyone yet.</p>\n          Start referring now and boost your rewards while helping your friends thrive in DrugWars!\n        </div>\n      </div>\n    </div>\n    <div class=\"card\">\n      <div class=\"content\">\n        <h3>Your drops</h3>\n\n        <div class=\"row g-2 mx-auto\">\n          <div class=\"col-4 text-center\" :key=\"key\" v-for=\"(box, key) in boxes\">\n            <div class=\"border rounded-s border-highlight\">\n              <img style=\"border: 1px solid #392828;    \" :src=\"`/img/box.png`\" class=\"img-fluid rounded-s\">\n              <h6 class=\"d-block mt-1\" v-if=\"box.resources.drug\">\n                <Icon name=\"drug\" size=\"10\" />{{ box.resources.drug }}\n              </h6>\n              <h6 class=\"d-block\" v-if=\"box.resources.weapon\">\n                <Icon name=\"weapon\" size=\"10\" />{{ box.resources.weapon }}\n              </h6>\n              <h6 class=\"d-block\" v-if=\"box.resources.alcohol\">\n                <Icon name=\"alcohol\" size=\"10\" />{{ box.resources.alcohol }}\n              </h6>\n              <UiButton @click=\"claim(box)\" class=\"btn w-100 bg-highlight rounded-xs text-uppercase font-700 btn-xxs mt-1\"\n                type=\"submit\">\n                Claim\n              </UiButton>\n            </div>\n          </div>\n        </div>\n        <div v-if=\"!boxes.length\">\n          <p>You have nothign to claim yet.</p>\n          Start referring now and obtain drop boxes!\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport client from '@/helpers/client';\n\nexport default {\n  data() {\n    return {\n      username: this.$store.state.auth.username,\n      url: `https://t.me/drugwars_bot/drugwars/start?startapp=${this.$store.state.auth.username}`,\n      copied: 'Copy to clipboard',\n      green: false,\n      boxes: []\n    };\n  },\n  computed: {\n    referrals() {\n      return this.$store.state.game.user.referals;\n    },\n    prizeProps() {\n      return this.$store.state.game.prizeProps;\n    },\n  },\n  created() {\n    this.closeModalVideo()\n    this.load_boxes()\n  },\n  methods: {\n    ...mapActions(['closeModalVideo', 'claimBox']),\n    load_boxes() {\n      this.usertasks = [];\n      const params = { user: { id: this.$store.state.auth.username } }\n      client.requestAsync('get_boxes', params).then(result => {\n        console.log(result)\n        result.forEach(element => {\n          element.resources = JSON.parse(element.resources)\n        });\n        this.boxes = result\n      });\n    },\n    claim(box) {\n      const self = this\n      this.claimBox({ id: box.id })\n      setTimeout(() => {\n        self.load_boxes()\n      }, 1000);\n\n    },\n    getReferralRewardsDWD(drugProductionRate) {\n      const totalDailySteem = this.prizeProps.daily_percent;\n      const referralRewards =\n        (((drugProductionRate / this.prizeProps.drug_production_rate) * totalDailySteem) / 100) *\n        15;\n      return parseFloat(referralRewards).toFixed(3);\n    },\n    copy() {\n      var copyText = this.url;\n\n      this.copied = 'Copied to clipboard'\n      // Copy the text inside the text field\n      navigator.clipboard.writeText(copyText);\n      const self = this;\n      setTimeout(() => {\n        self.copied = 'Copy to clipboard'\n      }, 1000);\n    }\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.link {\n  font-size: 26px;\n}\n\n.refferalimg {\n  z-index: 0;\n  position: absolute;\n  width: 50%;\n  bottom: 0px;\n}\n\n.referral {\n  z-index: 1;\n  position: relative;\n  background: #0d0d0d7a;\n}\n\n@media screen and (min-width: 200px) and (max-width: 669px) {\n  a {\n    max-width: 100%;\n    word-break: break-word;\n    font-size: 20px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Referral.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Referral.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Referral.vue?vue&type=template&id=7d0e795d&scoped=true&\"\nimport script from \"./Referral.vue?vue&type=script&lang=js&\"\nexport * from \"./Referral.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Referral.vue?vue&type=style&index=0&id=7d0e795d&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d0e795d\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Referral.vue?vue&type=style&index=0&id=7d0e795d&scoped=true&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Referral.vue?vue&type=style&index=0&id=7d0e795d&scoped=true&lang=less&\""],"sourceRoot":""}