(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["gang-settings"],{f3bc:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("GangsTabs"),a("div",{staticClass:"p-4"},[t.isInit?a("Loading"):a("div",[a("h1",[t._v(t._s(t.gang.name||t.gang.gang))]),a("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input input-block text-left mb-2",attrs:{placeholder:"Name",maxlength:"32"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.image,expression:"image"}],staticClass:"input input-block text-left mb-2",attrs:{placeholder:"Image URL (optional)",type:"url"},domProps:{value:t.image},on:{input:function(e){e.target.composing||(t.image=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.website,expression:"website"}],staticClass:"input input-block text-left mb-2",attrs:{placeholder:"Website (optional)",type:"url"},domProps:{value:t.website},on:{input:function(e){e.target.composing||(t.website=e.target.value)}}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.about,expression:"about"}],staticClass:"input input-block text-left mb-2",attrs:{type:"text",placeholder:"Description (optional)",maxlength:"280"},domProps:{value:t.about},on:{input:function(e){e.target.composing||(t.about=e.target.value)}}}),a("UiButton",{staticClass:"button button-green btn-block mb-2",attrs:{type:"submit",disabled:t.isLoading}},[t.isLoading?a("SmallLoading"):a("span",[t._v("\n              Update\n            ")])],1)],1)])],1)],1)},n=[],s=a("cebc"),o=(a("7f7f"),a("768b")),u=a("2f62"),l=a("451e"),r={data:function(){return{id:this.$route.params.id,isInit:!1,isLoading:!1,gang:null,name:null,image:null,website:null,about:null,user:this.$store.state.game.user.user}},computed:{isBoss:function(){return"boss"===this.user.role&&this.user.gang===this.id}},created:function(){var t=this;this.isInit=!0,l["a"].requestAsync("get_gang",this.id).then((function(e){var a=Object(o["a"])(e,1);t.gang=a[0],t.name=e[0].name,t.image=e[0].image,t.website=e[0].website,t.about=e[0].about,t.isInit=!1}))},methods:Object(s["a"])({},Object(u["b"])(["send","notify"]),{handleSubmit:function(){var t=this;this.isLoading=!0;var e={};this.name&&(e.name=this.name),this.image&&(e.image=this.image),this.website&&(e.website=this.website),this.about&&(e.about=this.about);var a={gang:this.id,settings:e,type:"gang-update"};this.send(a).then((function(){t.isLoading=!1,t.notify({type:"success",message:"Settings successfully updated"})})).catch((function(e){console.error("Failed to update settings",e),t.isLoading=!1}))}})},m=r,g=a("2877"),c=Object(g["a"])(m,i,n,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=gang-settings.d032f0d5.js.map