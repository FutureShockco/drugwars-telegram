{"version":3,"sources":["webpack:///./src/views/Settings/Settings.vue?8d66","webpack:///src/views/Settings/Settings.vue","webpack:///./src/views/Settings/Settings.vue?0df9","webpack:///./src/views/Settings/Settings.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","server","name","on","$event","preventDefault","handleSubmit","directives","rawName","value","expression","attrs","user","nickname","domProps","target","composing","picture","isLoading","_l","alert","key","id","isActive","stop_alerts","activate_alerts","deleteFavCompo","staticRenderFns","data","tonConnectUI","wallet","alerts","computed","$store","state","game","number","lastUpdate","Date","methods","nick","trim","toLowerCase","type","send","payload","localStorage","setItem","removeItem","component"],"mappings":"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","file":"js/settings.8ad76dd9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('SettingsTabs'),_c('div',{staticClass:\"card card-style anim-fade-in\"},[_c('div',{staticClass:\"content\"},[_c('h2',[_vm._v(\"Change your settings\")]),_c('h5',{staticClass:\"text-yellow\"},[_vm._v(\"Server : \"+_vm._s(_vm.server)+\" Name : \"+_vm._s(_vm.name))]),_c('form',{staticClass:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('p',[_vm._v(\"Nickname\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nickname),expression:\"nickname\"},{name:\"lowercase\",rawName:\"v-lowercase\"}],staticClass:\"input input-primary mb-2\",attrs:{\"maxlength\":\"32\",\"placeholder\":_vm.user.nickname},domProps:{\"value\":(_vm.nickname)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nickname=$event.target.value}}}),_c('p',[_vm._v(\"Profile picture\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.picture),expression:\"picture\"}],staticClass:\"input input-primary mb-4\",attrs:{\"type\":\"url\",\"placeholder\":_vm.user.picture},domProps:{\"value\":(_vm.picture)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.picture=$event.target.value}}}),_c('UiButton',{staticClass:\"btn btn-xxs gradient-highlight\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isLoading}},[(_vm.isLoading)?_c('SmallLoading'):_c('span',[_vm._v(\"Edit\")])],1)],1),_vm._l((_vm.alerts),function(alert){return _c('a',{key:alert.id,on:{\"click\":function($event){$event.preventDefault();alert.isActive ? _vm.stop_alerts(alert) : _vm.activate_alerts(alert)}}},[(alert.isActive)?_c('div',{staticClass:\"iconfont icon-mute\"},[_vm._v(\"Stop alerts on incoming Attacks\")]):_c('div',{staticClass:\"iconfont icon-unmute\"},[_vm._v(\"Activate alerts on incoming Attacks\")])])}),_c('div',{staticClass:\"mt-3\"},[_vm._v(\"\\n        Use this button if you have any issue with loading, deleting squads.\\n        \"),_c('UiButton',{staticClass:\"btn btn-xxs gradient-red\",on:{\"click\":function($event){_vm.deleteFavCompo()}}},[_vm._v(\"Delete Fav\\n          Squads\")])],1)],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <SettingsTabs />\n    <div class=\"card card-style anim-fade-in\">\n      <div class=\"content\">\n        <h2>Change your settings</h2>\n        <h5 class=\"text-yellow\">Server : {{ server }} Name : {{ name }}</h5>\n        <!-- <h5>Be carefull, you can not change your nickname more than one time per month and/or 2 days after starting a fight</h5> -->\n        <form class=\"form\" @submit.prevent=\"handleSubmit\">\n          <p>Nickname</p>\n          <input class=\"input input-primary mb-2\" v-model=\"nickname\" maxlength=\"32\" :placeholder=\"user.nickname\"\n            v-lowercase />\n          <p>Profile picture</p>\n          <input class=\"input input-primary mb-4\" v-model=\"picture\" type=\"url\" :placeholder=\"user.picture\" />\n          <UiButton class=\"btn btn-xxs gradient-highlight\" type=\"submit\" :disabled=\"isLoading\">\n            <SmallLoading v-if=\"isLoading\" />\n            <span v-else>Edit</span>\n          </UiButton>\n        </form>\n        <a @click.prevent=\"alert.isActive ? stop_alerts(alert) : activate_alerts(alert)\" v-for=\"alert in alerts\"\n          :key=\"alert.id\">\n          <div v-if=\"alert.isActive\" class=\"iconfont icon-mute\">Stop alerts on incoming Attacks</div>\n          <div v-else class=\"iconfont icon-unmute\">Activate alerts on incoming Attacks</div>\n        </a>\n        <div class=\"mt-3\">\n          Use this button if you have any issue with loading, deleting squads.\n          <UiButton class=\"btn btn-xxs gradient-red\" @click=\"deleteFavCompo()\">Delete Fav\n            Squads</UiButton>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\n\nexport default {\n  data() {\n    return {\n      tonConnectUI: null,\n      isLoading: false,\n      nickname: null,\n      picture: null,\n      wallet: null,\n      alerts: [\n        {\n          id: 'alert',\n          name: 'Attack',\n          isActive: localStorage.getItem('attack_alert') || false,\n        },\n      ],\n    };\n  },\n \n  computed: {\n    server() {\n      return this.$store.state.game.server.number;\n    },\n    name() {\n      return this.$store.state.game.server.name;\n    },\n    user() {\n      return this.$store.state.game.user.user;\n    },\n    lastUpdate() {\n      return new Date(\n        Date.parse(this.$store.state.game.user.user.last_profile_update),\n      ).toLocaleString();\n    },\n\n  },\n  methods: {\n    ...mapActions(['send', 'notify']),\n    handleSubmit() {\n      this.isLoading = true;\n      let nick = '';\n      if (this.nickname) nick = this.nickname.trim().toLowerCase();\n      else nick = '';\n      if (!this.picture) this.picture = this.user.picture;\n      const payload = {\n        nickname: nick,\n        picture: this.picture.trim(),\n        type: 'edit-profile',\n      };\n      this.send(payload)\n        .then(() => {\n          this.isLoading = false;\n        })\n        .catch(e => {\n          this.notify({ type: 'error', message: 'Failed to edit profile' });\n          console.error('Failed to edit profile', e);\n          this.isLoading = false;\n        });\n    },\n    activate_alerts(alert) {\n      localStorage.setItem('attack_alert', true);\n      alert.isActive = true; // eslint-disable-line no-param-reassign\n    },\n    stop_alerts(alert) {\n      localStorage.setItem('attack_alert', false);\n      alert.isActive = false; // eslint-disable-line no-param-reassign\n    },\n    deleteFavCompo() {\n      localStorage.removeItem('fav_combi');\n    }\n  },\n};\n</script>\n\n<style scoped lang=\"less\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=46824134&scoped=true&\"\nimport script from \"./Settings.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46824134\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}